{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/common/IconBox.vue?9950","webpack:///./src/components/common/IconBox.vue","webpack:///./src/components/common/IconBox.vue?2a2c","webpack:///./src/components/common/IconBox.vue?fe35","webpack:///./src/components/common/MessageDisplay.vue?6c74","webpack:///./src/components/common/MessageDisplay.vue","webpack:///./src/components/common/MessageDisplay.vue?7201","webpack:///./src/components/common/MessageDisplay.vue?0a91","webpack:///./src/components/common/ModalLauncher.vue?c956","webpack:///./src/components/common/ModalLauncher.vue","webpack:///./src/components/common/ModalLauncher.vue?6518","webpack:///./src/components/common/ModalLauncher.vue?9399","webpack:///./src/components/common/ModalBox.vue?f268","webpack:///./src/components/common/ModalBox.vue","webpack:///./src/components/common/ModalBox.vue?01c9","webpack:///./src/components/common/ModalBox.vue?0186","webpack:///./src/components/common/Pagination.vue?a5e7","webpack:///./src/components/common/Pagination.vue","webpack:///./src/components/common/Pagination.vue?cc4d","webpack:///./src/components/common/Pagination.vue?6402","webpack:///./src/components/common/TabItemDelete.vue?1f9f","webpack:///./src/components/common/TabItemDelete.vue","webpack:///./src/components/common/TabItemDelete.vue?5cc5","webpack:///./src/components/common/TabItemDelete.vue?1735","webpack:///./src/components/common/ValidityText.vue?3718","webpack:///./src/defs/constants.ts","webpack:///./src/components/common/ValidityText.vue","webpack:///./src/components/common/ValidityText.vue?daaf","webpack:///./src/components/common/ValidityText.vue?be3f","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditorInput.vue?d020","webpack:///./src/components/extra-metadata-editor/extrametadataeditor-defs.ts","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditorInput.vue","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditorInput.vue?2347","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditorInput.vue?952d","webpack:///./src/components/product-locations-table/ProductLocationsTableRow.vue?8c20","webpack:///./src/components/product-locations-table/ProductLocationsTableRow.vue","webpack:///./src/components/product-locations-table/ProductLocationsTableRow.vue?82e2","webpack:///./src/components/product-locations-table/ProductLocationsTableRow.vue?4e32","webpack:///./src/components/store-map/MapDisplay.vue?f61c","webpack:///./src/defs/date-handling.ts","webpack:///./src/components/store-map/storemap-defs.ts","webpack:///./src/components/store-map/tile-legend-coloring.ts","webpack:///./src/components/store-map/MapDisplay.vue","webpack:///./src/components/store-map/MapDisplay.vue?9d89","webpack:///./src/components/store-map/MapDisplay.vue?c3da","webpack:///./src/components/store-map/MapLegend.vue?c852","webpack:///./src/components/store-map/MapLegend.vue","webpack:///./src/components/store-map/MapLegend.vue?79a6","webpack:///./src/components/store-map/MapLegend.vue?9761","webpack:///./src/components/store-map/MapDisplayWithLegend.vue?8c27","webpack:///./src/components/store-map/MapDisplayWithLegend.vue","webpack:///./src/components/store-map/MapDisplayWithLegend.vue?4ae5","webpack:///./src/components/store-map/MapDisplayWithLegend.vue?be26","webpack:///./src/components/local-permission-table/LocalPermissionTable.vue?6aef","webpack:///./src/components/local-permission-table/localpermissiontable-defs.ts","webpack:///./src/components/local-permission-table/LocalPermissionTable.vue","webpack:///./src/components/local-permission-table/LocalPermissionTable.vue?9726","webpack:///./src/components/local-permission-table/LocalPermissionTable.vue?b9d2","webpack:///./src/components/modal-item-selector/ModalItemSelector.vue?918c","webpack:///./src/components/modal-item-selector/modalitemselector-defs.ts","webpack:///./src/components/modal-item-selector/ModalItemSelector.vue","webpack:///./src/components/modal-item-selector/ModalItemSelector.vue?cc36","webpack:///./src/components/modal-item-selector/ModalItemSelector.vue?8127","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditor.vue?513c","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditor.vue","webpack:///./src/components/product-locations-table/productlocationstable-defs.ts","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditor.vue?487e","webpack:///./src/components/extra-metadata-editor/ExtraMetadataEditor.vue?2315","webpack:///./src/components/product-locations-table/ProductLocationsTable.vue?af91","webpack:///./src/components/product-locations-table/ProductLocationsTable.vue","webpack:///./src/components/product-locations-table/ProductLocationsTable.vue?3c9f","webpack:///./src/components/product-locations-table/ProductLocationsTable.vue?2e05","webpack:///./src/components/store-map/MapStaticDisplayApp.vue?41bf","webpack:///./src/components/store-map/MapStaticDisplayApp.vue","webpack:///./src/components/store-map/MapStaticDisplayApp.vue?0172","webpack:///./src/components/store-map/MapStaticDisplayApp.vue?2481","webpack:///./src/components/store-map/MapEditor.vue?9388","webpack:///./src/components/store-map/MapEditor.vue","webpack:///./src/components/store-map/MapEditor.vue?66f4","webpack:///./src/components/store-map/MapEditor.vue?7314","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","size","iconHref","_v","_s","text","staticRenderFns","icon","component","successMessage","_e","warningMessage","errorMessage","successFlashTimeout","warningFlashTimeout","clearTimeout","message","setTimeout","class","className","id","modalId","_t","sizeClass","title","getText","on","$event","handleAccept","gettext","$emit","default","maxPages","canGoBack","currentPage","canGoForward","item","theText","domProps","getValidityText","DATE_FORMAT","started","ended","start","startedDate","end","endedDate","out","replace","format","showText","standardMetaField","directives","rawName","expression","getPlaceholder","updateText","target","composing","$set","showBool","_q","showUnits","$$selectedVal","Array","filter","options","selected","map","val","_value","multiple","_l","unit","slug","units","startsWith","expected_units","mv","newId","InternalMetaValue","items","subcategory","getStandardFields","url","theUrl","fetch","credentials","req","json","EXPECTED_UNITS_CHECK","TEXT","names","BOOL","SELECT_UNIT","smf","expected_units_names","change","hasValueChanges","hasExtrasChanges","product","details_url","vendor_details_url","vendor","date_started","date_ended","aisle","subaisle","tile","letterCoordsWithText","isPicking","staticStyle","startPicking","hasChanges","undoChanges","revertAuto","deleteLocation","start_subaisle","start_tile","revert_auto","delete_location","getColumnLetter","row","index","y","x","style","getColorCSS","colors","showTooltips","getTitle","registerClick","getIsoDate","validAt","date","tz","guess","utc","toISOString","extend","TileType","width","height","tile_type","color","color_is_light","MapTileDTO","tileType","TILE_TYPE_NAMES","Map","getTileTypeName","columnLetter","first","Math","floor","second","String","fromCharCode","set","ENTRANCE","EXIT","ENTRANCE_EXIT","REGISTER","PRODUCT","SPACE","SUBAISLE","BLOCK","display_code","letterCoords","tileText","MapTile","tiles","StoreMap","mtd","saveMap","endpoint","mapDTO","tileDTOs","body","JSON","stringify","csrftoken","document","querySelector","headers","Headers","method","sortedMapTiles","sort","t1","t2","LegendEntryType","ColorKey","isLight","type","canActivate","tileTypeToColor","UNKNOWN","BASIC_COLORSPECS","buildColorMap","aisles","forEach","v","k","subaisles","sa","buildLegend","legend","legendEntryFromTileType","SPECIAL_TILE","SECTION_HEADER","AISLE","getColorForTile","undefined","Error","colorSpec","foregroundColor","getColorCSSForTile","tileToMapTileDTOWithColor","mt","tileRows","updateRows","sortedTiles","desc","isActive","activateEntry","entry","isSubaisle","isSpecialTile","getColorCSSForEntry","isSectionHeader","isAisle","activeEntry","entries","updateEntries","editable","ref","paintTile","updateColors","display","$refs","headerData","appData","store","permKey","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","deleteItem","newEntryStore","optGroupLabel","newEntry","addNewItem","entriesAsJson","can_manage_products","can_manage_maps","can_manage_deals","can_manage_employees","can_view_statistics","getStores","storeList","permTitlesWithAlignment","lpTableTitles","lpEntries","usedStoreIds","Set","lpe","has","filteredStoreList","flatMap","showBlankRequiredField","misInputName","misModalId","misTitle","misMultipleSelection","searchQuery","misItemName","btn","isSelected","handleSelectDeselect","photo","extra","itemPage","goBack","goForward","showLoading","itemList","getModalItems","page","query","URL","location","toString","searchParams","newSelection","selectionsCopied","misInitialSelection","jQueryModal","jQuery","loadData","misApiEndpoint","then","dataContainer","num_pages","modal","find","misRequired","outputExtraMetadata","emeHighlightCustom","_m","newItem","canAddItem","addItem","getValidationErrorText","showValidationError","requiredFieldsMissing","standardFields","standardFieldsMap","standardFieldSlugs","standardFieldsFromSubcategory","subcategorySelect","lastId","add","getStandardMetaField","addHandlerToSubmit","emeInitialData","toInternal","emeUseSubcategory","getStandardFieldsData","addEventListener","sel","$","select2","theme","tags","ev","theSubcategory","parseInt","Number","isNaN","emeApiEndpoint","smfc","updateSelect2","buildStandardFieldsMap","buildStandardFieldSlugs","updateItemListWithStandardFields","html","trigger","blankOption","Option","append","usedStandardFields","imv","newOption","getNameWithReq","newName","eun","is_required","toGeneral","hiddenInput","outputFormField","form","validateForm","success","standardItemSet","imf","delete","preventDefault","join","ProductLocationFilter","storeMap","aisleStructure","setTileFromClick","theFilter","nameSearch","vendorSearch","subcategorySearch","cat","sc","modifiers","_n","itemsPerPage","tileList","pickingFor","startPickingFromMap","initialized","totalPages","saveChanges","changeCount","clearChanges","fromMapTile","ProductLocationChange","getProducts","pageNumber","pageSize","trim","getProductGroups","changes","FILTER_OPTIONS","ALL","AUTO","MANUAL","MISSING","categoryStructure","subaisleList","changesById","FILTER_OPTIONS_","initialView","defaultPageSize","e","updateList","updateGroups","allowSwitching","messages","clearMessages","getEndpoint","response","setError","updateItems","products","groupsEndpoint","fromDTOs","filteredChanges","prepareForUpload","updateEndpoint","appendError","clearEverything","setSuccessFlash","warning","setWarningFlash","fromDTO","fromProduct","clear","collapse","resizeW","$forceUpdate","resizeH","resizeMap","defaultSize","toMapDTO","tilesDTOs","saveEndpoint","getRows","rows","newTile","oldTile","config","productionTip","mixin","methods","VUE_APPS","appClass","THIS_APP","el","APP_TAG","h","props"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconbox\"},[_c('svg',{staticClass:\"bi\",attrs:{\"width\":_vm.size,\"height\":_vm.size,\"fill\":\"currentColor\"}},[_c('use',{attrs:{\"xlink:href\":_vm.iconHref()}})]),_vm._v(\" \"+_vm._s(_vm.text)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\n\n@Component\nexport default class IconBox extends Vue {\n    @Prop() private icon!: string;\n\n    @Prop() private size!: number;\n\n    @Prop() private text!: string;\n\n    iconHref(): string {\n        return `/static/bootstrap-icons.svg#${this.icon}`;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IconBox.vue?vue&type=template&id=7614d198&\"\nimport script from \"./IconBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./IconBox.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.successMessage.length > 0)?_c('div',{staticClass:\"alert alert-success\"},[_vm._v(_vm._s(_vm.successMessage))]):_vm._e(),(_vm.warningMessage.length > 0)?_c('div',{staticClass:\"alert alert-warning\"},[_vm._v(_vm._s(_vm.warningMessage))]):_vm._e(),(_vm.errorMessage.length > 0)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport {Component, Vue} from \"vue-property-decorator\";\n\n@Component\nexport default class MessageDisplay extends Vue {\n    private successMessage: string = \"\";\n    private warningMessage: string = \"\";\n    private errorMessage: string = \"\";\n    private successFlashTimeout: number | null = null;\n    private warningFlashTimeout: number | null = null;\n\n    public clearMessages() {\n        this.successMessage = \"\";\n        this.warningMessage = \"\";\n        this.errorMessage = \"\";\n        if (this.successFlashTimeout !== null) {\n            clearTimeout(this.successFlashTimeout);\n        }\n        if (this.warningFlashTimeout !== null) {\n            clearTimeout(this.warningFlashTimeout);\n        }\n        this.successFlashTimeout = null;\n        this.warningFlashTimeout = null;\n    }\n\n    public setSuccessFlash(message: string) {\n        this.successMessage = message;\n        this.successFlashTimeout = setTimeout(() => {\n            this.successMessage = \"\";\n            this.successFlashTimeout = null;\n        }, 5000);\n    }\n\n    public setWarningFlash(message: string) {\n        this.warningMessage = message;\n        this.warningFlashTimeout = setTimeout(() => {\n            this.warningMessage = \"\";\n            this.warningFlashTimeout = null;\n        }, 5000);\n    }\n\n    public setError(message: string) {\n        this.errorMessage = message;\n    }\n\n    public appendError(message: string) {\n        this.errorMessage += message;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageDisplay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageDisplay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MessageDisplay.vue?vue&type=template&id=5aed2331&scoped=true&\"\nimport script from \"./MessageDisplay.vue?vue&type=script&lang=ts&\"\nexport * from \"./MessageDisplay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aed2331\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:_vm.className,attrs:{\"type\":\"button\",\"id\":_vm.id,\"data-toggle\":\"modal\",\"data-target\":'#' + _vm.modalId}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\n\n@Component\nexport default class ModalLauncher extends Vue {\n    @Prop() private className!: string;\n    @Prop() private id!: string;\n    @Prop() private modalId!: string;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalLauncher.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalLauncher.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModalLauncher.vue?vue&type=template&id=439e458a&scoped=true&\"\nimport script from \"./ModalLauncher.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModalLauncher.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"439e458a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":_vm.modalId,\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":_vm.modalId + 'Label',\"aria-hidden\":\"true\"}},[_c('div',{class:'modal-dialog ' + _vm.sizeClass,attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":_vm.modalId + 'Label'}},[_vm._v(_vm._s(_vm.title))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":_vm.getText('Close')}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"default\")],2),(_vm.showFooter)?_c('div',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleAccept()}}},[_vm._v(_vm._s(_vm.getText(\"OK\")))]),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(_vm._s(_vm.getText(\"Cancel\")))])])],2):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\n\n@Component\nexport default class ModalBox extends Vue {\n    @Prop() private modalId!: string;\n    @Prop() private title!: string;\n    @Prop({default: \"\"}) private sizeClass!: string;\n    @Prop({default: true}) private showFooter!: boolean;\n\n    closeButtonText(): string {\n        return gettext(\"Close\");\n    }\n\n    handleAccept() {\n        this.$emit(\"modalAccept\", this.modalId);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModalBox.vue?vue&type=template&id=5abcbe6e&\"\nimport script from \"./ModalBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModalBox.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.maxPages > 1)?_c('nav',{staticClass:\"ms-pagination\",attrs:{\"aria-label\":_vm.getText('Page navigation')}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{staticClass:\"page-item\"},[_c('button',{staticClass:\"page-link\",attrs:{\"type\":\"button\",\"aria-label\":_vm.getText('Previous'),\"disabled\":!_vm.canGoBack()},on:{\"click\":function($event){return _vm.$emit('back')}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(_vm._s(_vm.getText(\"Previous\")))])])]),_c('li',{staticClass:\"page-item\"},[_c('span',{staticClass:\"page-link\"},[_vm._v(_vm._s(this.currentPage)+\"/\"+_vm._s(this.maxPages))])]),_c('li',{staticClass:\"page-item\"},[_c('button',{staticClass:\"page-link\",attrs:{\"type\":\"button\",\"aria-label\":_vm.getText('Next'),\"disabled\":!_vm.canGoForward()},on:{\"click\":function($event){return _vm.$emit('forward')}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(_vm._s(_vm.getText(\"Next\")))])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\n\n@Component\nexport default class Pagination extends Vue {\n    @Prop() private currentPage!: number;\n    @Prop() private maxPages!: number;\n\n    canGoBack(): boolean {\n        return this.currentPage > 1;\n    }\n\n    canGoForward(): boolean {\n        return this.currentPage < this.maxPages;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=25659172&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=ts&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-sm btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('delete', _vm.item)}}},[_c('IconBox',{attrs:{\"icon\":\"trash\",\"size\":\"12\",\"text\":_vm.theText()}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\n\n@Component\nexport default class TabItemDelete extends Vue {\n    @Prop() private item!: (string|number);\n\n    theText(): string {\n        return gettext(\"Delete\");\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabItemDelete.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabItemDelete.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TabItemDelete.vue?vue&type=template&id=382abbde&\"\nimport script from \"./TabItemDelete.vue?vue&type=script&lang=ts&\"\nexport * from \"./TabItemDelete.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getValidityText())}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const DATE_FORMAT: string = \"YYYY-MM-DD HH:mm:ss\";\nexport const MAP_SIZE_DEFAULT: number = 15;\n","\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\nimport dayjs from \"dayjs\";\nimport {DATE_FORMAT} from \"@/defs/constants\";\n\n@Component\nexport default class ValidityText extends Vue {\n    @Prop() private started!: string | dayjs.Dayjs | null;\n\n    @Prop() private ended!: string | dayjs.Dayjs | null;\n\n    startedDate(): dayjs.Dayjs | null {\n        if (typeof this.started === \"string\") {\n            return dayjs(this.started);\n        }\n        return this.started;\n    }\n\n    endedDate(): dayjs.Dayjs | null {\n        if (typeof this.ended === \"string\") {\n            return dayjs(this.ended);\n        }\n        return this.ended;\n    }\n\n    getValidityText(): string {\n        const start = this.startedDate();\n        const end = this.endedDate();\n        if (start == null && end == null) {\n            return gettext(\"indefinitely\");\n        }\n        let out = \"\";\n        if (start != null) {\n            out += gettext(\"from {date}\").replace(\"{date}\", start.format(DATE_FORMAT));\n        }\n        if (start != null && end != null) {\n            out += \"<br>\";\n        }\n        if (end != null) {\n            out += gettext(\"until {date}\").replace(\"{date}\", end.format(DATE_FORMAT));\n        }\n        return out;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidityText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidityText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ValidityText.vue?vue&type=template&id=3deb8832&\"\nimport script from \"./ValidityText.vue?vue&type=script&lang=ts&\"\nexport * from \"./ValidityText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showText(_vm.item.standardMetaField))?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.value),expression:\"item.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.getPlaceholder()},domProps:{\"value\":(_vm.item.value)},on:{\"change\":function($event){return _vm.item.updateText()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.item, \"value\", $event.target.value)}}})]):_vm._e(),(_vm.showBool(_vm.item.standardMetaField))?_c('div',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.value),expression:\"item.value\"}],staticClass:\"mr-1\",attrs:{\"type\":\"radio\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.item.value,\"1\")},on:{\"change\":[function($event){return _vm.$set(_vm.item, \"value\", \"1\")},function($event){return _vm.item.updateText()}]}}),_vm._v(\" \"+_vm._s(_vm.getText(\"yes\")))]),_c('label',{staticClass:\"ml-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.value),expression:\"item.value\"}],staticClass:\"mr-1\",attrs:{\"type\":\"radio\",\"value\":\"0\"},domProps:{\"checked\":_vm._q(_vm.item.value,\"0\")},on:{\"change\":[function($event){return _vm.$set(_vm.item, \"value\", \"0\")},function($event){return _vm.item.updateText()}]}}),_vm._v(\" \"+_vm._s(_vm.getText(\"no\")))])]):_vm._e(),(_vm.showUnits(_vm.item.standardMetaField))?_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.value),expression:\"item.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.getPlaceholder()},domProps:{\"value\":(_vm.item.value)},on:{\"change\":function($event){return _vm.item.updateText()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.item, \"value\", $event.target.value)}}}),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.item.units),expression:\"item.units\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.item, \"units\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.item.updateText()}]}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"---------\")]),_vm._l((_vm.item.standardMetaField.expected_units_names),function(unit){return _c('option',{key:unit,domProps:{\"value\":unit}},[_vm._v(_vm._s(unit)+\" \")])})],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class MetaValue {\n    public slug: string = \"\";\n    public name: string = \"\";\n    public value: string = \"\";\n    public units: string = \"\";\n    public text: string = \"\";\n\n    constructor(slug: string, name: string, value: string, units: string, text: string) {\n        this.slug = slug;\n        this.name = name;\n        this.value = value;\n        this.units = units;\n        this.text = text;\n    }\n}\n\nexport class InternalMetaValue extends MetaValue {\n    public id: number = 0;\n    public standardMetaField: StandardMetaField | null = null;\n\n    constructor(slug: string = \"\", name: string = \"\", value: string = \"\", units: string = \"\", text: string = \"\",\n                id: number = -1, standardMetaField: StandardMetaField | null = null) {\n        super(slug, name, value, units, text);\n        this.id = id;\n        this.standardMetaField = standardMetaField;\n    }\n\n    public static toInternal(mv: MetaValue, newId: number,\n                             standardMetaField: StandardMetaField | null = null): InternalMetaValue {\n        return new InternalMetaValue(mv.slug, mv.name, mv.value, mv.units, mv.text, newId, standardMetaField);\n    }\n\n    public toGeneral(): MetaValue {\n        const slug = this.slug.startsWith(\"__\") ? \"\" : this.slug;\n        return new MetaValue(slug, this.name, this.value, this.units, this.text);\n    }\n\n    public updateText() {\n        if (this.standardMetaField?.expected_units === \"_str\" || this.standardMetaField?.expected_units === \"_number\") {\n            this.text = this.value;\n        } else if (this.standardMetaField?.expected_units === \"_bool\") {\n            this.text = this.value === \"1\" ? gettext(\"yes\") : gettext(\"no\");\n        } else if (this.units !== \"\") {\n            this.text = `${this.value} ${this.units}`;\n        } else {\n            this.text = this.value;\n        }\n    }\n}\n\nexport class StandardMetaField {\n    public slug: string = \"\";\n    public name: string = \"\";\n    public expected_units: string = \"\";\n    public expected_units_names: string[] = [];\n    public is_required: boolean = false;\n    public is_recommended: boolean = false;\n}\n\nexport class StandardMetaFieldContainer {\n    public items: StandardMetaField[] = [];\n    public subcategory: number | null = null;\n\n    constructor(items: StandardMetaField[] = [], subcategory: number | null = null) {\n        this.items = items;\n        this.subcategory = subcategory;\n    }\n}\n\nexport async function getStandardFields(url: string, subcategory: number | null): Promise<StandardMetaFieldContainer> {\n    let theUrl = url;\n    if (subcategory !== null) {\n        theUrl += `${subcategory}/`;\n    }\n    const req = await fetch(theUrl, {credentials: \"same-origin\"});\n    return req.json();\n}\n\nexport interface AppDataEME extends AppData {\n    emeApiEndpoint: string;\n    emeUseSubcategory: boolean;\n    emeHighlightCustom: boolean;\n    emeInitialData: MetaValue[];\n}\n\nexport const EXPECTED_UNITS = {\n    NUMBER: \"_number\",\n    STR: \"_str\",\n    BOOL: \"_bool\",\n    USER: \"_user\",\n    WEIGHT: \"weight\",\n    VOLUME: \"volume\",\n    AREA: \"area\",\n    SIZE: \"size\",\n};\n\nexport const EXPECTED_UNITS_CHECK = {\n    TEXT: (val: string | null, names: string[]) => (\n        val === \"_number\" || val === \"_str\" || (val === \"_user\" && names.length === 0)),\n    BOOL: (val: string | null) => val === \"_bool\",\n    SELECT_UNIT: (val: string | null, names: string[]) => (\n        (val === \"_user\" && names.length !== 0) || (val !== null && !val.startsWith(\"_\"))),\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n} from \"vue-property-decorator\";\n\nimport {\n    InternalMetaValue,\n    EXPECTED_UNITS_CHECK,\n    StandardMetaField,\n} from \"@/components/extra-metadata-editor/extrametadataeditor-defs\";\n\n@Component\nexport default class ExtraMetadataEditorInput extends Vue {\n    @Prop() private item!: InternalMetaValue;\n\n    showText(smf: StandardMetaField | null): boolean {\n        return smf === null || EXPECTED_UNITS_CHECK.TEXT(smf.expected_units, smf.expected_units_names);\n    }\n\n    showBool(smf: StandardMetaField | null): boolean {\n        return smf !== null && EXPECTED_UNITS_CHECK.BOOL(smf.expected_units);\n    }\n\n    showUnits(smf: StandardMetaField | null): boolean {\n        return smf != null && EXPECTED_UNITS_CHECK.SELECT_UNIT(smf.expected_units, smf.expected_units_names);\n    }\n\n    getPlaceholder(): string {\n        if (this.item.name === \"---------\") {\n            return gettext(\"Select or type a property name\");\n        }\n        return this.item.name;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraMetadataEditorInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraMetadataEditorInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExtraMetadataEditorInput.vue?vue&type=template&id=09b427f4&\"\nimport script from \"./ExtraMetadataEditorInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExtraMetadataEditorInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{class:{'table-info': _vm.change.hasValueChanges(), 'table-warning': _vm.change.hasExtrasChanges()}},[_c('td',[_c('a',{attrs:{\"href\":_vm.product.details_url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.product.name))])]),_c('td',[_c('a',{attrs:{\"href\":_vm.product.vendor_details_url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.product.vendor))])]),_c('td',[_c('ValidityText',{attrs:{\"started\":_vm.product.date_started,\"ended\":_vm.product.date_ended}})],1),(!_vm.change.hasExtrasChanges())?_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.change.subaisle),expression:\"change.subaisle\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.change, \"subaisle\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---------\")]),_vm._l((_vm.aisleStructure),function(aisle){return _c('optgroup',{key:aisle.id,attrs:{\"label\":aisle.name}},_vm._l((aisle.subaisles),function(subaisle){return _c('option',{key:subaisle.id,domProps:{\"value\":subaisle}},[_vm._v(_vm._s(subaisle.name))])}),0)})],2)]):_vm._e(),(!_vm.change.hasExtrasChanges())?_c('td',[_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.change.tile),expression:\"change.tile\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.change, \"tile\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---------\")]),_vm._l((_vm.tileList),function(tile){return _c('option',{key:tile.id,domProps:{\"value\":tile}},[_vm._v(_vm._s(tile.letterCoordsWithText))])})],2),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-sm\",class:{'btn-outline-dark': !_vm.isPicking, 'btn-dark': _vm.isPicking},staticStyle:{\"padding\":\"0\"},attrs:{\"type\":\"button\",\"title\":_vm.getText('Pick from map')},on:{\"click\":function($event){return _vm.startPicking()}}},[_c('IconBox',{attrs:{\"size\":12,\"text\":\"\",\"icon\":\"cursor-fill\"}})],1)])])]):_vm._e(),(_vm.change.hasExtrasChanges())?_c('td',{attrs:{\"colspan\":\"2\"}},[(_vm.change.revert_auto)?_c('span',[_vm._v(_vm._s(_vm.getText(\"Location will revert to auto\")))]):_vm._e(),(_vm.change.delete_location)?_c('span',[_vm._v(_vm._s(_vm.getText(\"Location will be deleted\")))]):_vm._e()]):_vm._e(),_c('td',[(_vm.change.hasChanges())?_c('button',{staticClass:\"btn btn-sm btn-warning mr-1\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.undoChanges()}}},[_c('IconBox',{attrs:{\"size\":12,\"text\":_vm.getText('Undo'),\"icon\":\"x-square\"}})],1):_vm._e(),_c('div',{staticClass:\"dropdown d-inline-block\"},[_c('button',{staticClass:\"btn btn-sm btn-secondary dropdown-toggle\",attrs:{\"type\":\"button\",\"id\":'plt-extras-' + _vm.product.id,\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_c('IconBox',{attrs:{\"size\":12,\"text\":_vm.getText('Special'),\"icon\":\"gear-fill\"}})],1),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":'plt-extras-' + _vm.product.id}},[_c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.revertAuto()}}},[_vm._v(_vm._s(_vm.getText(\"Revert to auto location\")))]),_c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.deleteLocation()}}},[_vm._v(_vm._s(_vm.getText(\"Delete location\")))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n} from \"vue-property-decorator\";\nimport {\n    ProductLocationChange,\n    ProductToLocate,\n} from \"@/components/product-locations-table/productlocationstable-defs\";\nimport {AisleStructureEntry} from \"@/defs/map-locations-defs\";\nimport {MapTile} from \"@/components/store-map/storemap-defs\";\n\n@Component\nexport default class ProductLocationsTableRow extends Vue {\n    @Prop() private product!: ProductToLocate;\n    @Prop() private change!: ProductLocationChange;\n    @Prop() private aisleStructure!: AisleStructureEntry[];\n    @Prop() private tileList!: MapTile[];\n    @Prop() private isPicking!: boolean;\n\n    private undoChanges() {\n        this.change.subaisle = this.change.start_subaisle;\n        this.change.tile = this.change.start_tile;\n        this.change.revert_auto = false;\n        this.change.delete_location = false;\n    }\n\n    private revertAuto() {\n        this.undoChanges();\n        this.change.revert_auto = true;\n    }\n\n    private deleteLocation() {\n        this.undoChanges();\n        this.change.delete_location = true;\n    }\n\n    private startPicking() {\n        this.$emit(\"startPicking\", this.change);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductLocationsTableRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductLocationsTableRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProductLocationsTableRow.vue?vue&type=template&id=9d4543ea&scoped=true&\"\nimport script from \"./ProductLocationsTableRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProductLocationsTableRow.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d4543ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"store-map\",class:'store-map-' + this.size},[_c('thead',[_c('tr',[_c('th'),_vm._l((_vm.map.width),function(n,i){return _c('th',{key:i},[_vm._v(_vm._s(_vm.getColumnLetter(i)))])})],2)]),_vm._l((_vm.tileRows),function(row,index){return _c('tr',{key:row.y},[_c('th',[_vm._v(_vm._s(index + 1))]),_vm._l((row.tiles),function(tile){return _c('td',{key:tile.x,style:(_vm.getColorCSS(_vm.colors, tile)),attrs:{\"title\":_vm.showTooltips ? _vm.getTitle(tile) : null},on:{\"click\":function($event){return _vm.registerClick(tile)}}},[_vm._v(_vm._s(tile.key))])})],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import dayjs from \"dayjs\";\nimport utc from \"dayjs/plugin/utc\";\nimport timezone from \"dayjs/plugin/timezone\";\n\ndayjs.extend(utc);\ndayjs.extend(timezone);\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getIsoDate(validAt: string | dayjs.Dayjs) {\n    const date: dayjs.Dayjs = typeof validAt === \"string\" ? dayjs(validAt) : validAt;\n    return date.tz(dayjs.tz.guess()).utc().toISOString();\n}\n","import {AisleStructureEntry, Subaisle} from \"@/defs/map-locations-defs\";\nimport dayjs from \"dayjs\";\nimport {getIsoDate} from \"@/defs/date-handling\";\n\nexport class MapDTO {\n    id: number | null = null;\n    width: number = 0;\n    height: number = 0;\n\n    constructor(id: number | null, width: number, height: number) {\n        this.id = id;\n        this.width = width;\n        this.height = height;\n    }\n}\n\nexport class MapTileDTO {\n    id: number | null;\n    x: number;\n    y: number;\n    tile_type: string;\n    subaisle: Subaisle | null;\n    color: string | null; // Colors are generated by editor and saved in the DB\n    color_is_light: boolean;\n\n    constructor(\n        id: number | null, x: number, y: number, tile_type: string, subaisle: Subaisle | null,\n        color: string | null = null, color_is_light: boolean = true,\n    ) {\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this.tile_type = tile_type;\n        this.subaisle = subaisle;\n        this.color = color;\n        this.color_is_light = color_is_light;\n    }\n\n    public static fromMapTile(tile: MapTile) {\n        return new MapTileDTO(tile.id, tile.x, tile.y, tile.tileType, tile.subaisle);\n    }\n}\n\nexport enum TileType {\n    ENTRANCE = \"entrance\",\n    EXIT = \"exit\",\n    ENTRANCE_EXIT = \"ee\",\n    REGISTER = \"register\",\n    PRODUCT = \"product\",\n    SUBAISLE = \"subaisle\",\n    SPACE = \"space\",\n    BLOCK = \"block\"\n}\n\nexport const TILE_TYPE_NAMES: Map<TileType, string> = new Map();\nTILE_TYPE_NAMES.set(TileType.ENTRANCE, gettext(\"Entrance\"));\nTILE_TYPE_NAMES.set(TileType.EXIT, gettext(\"Exit\"));\nTILE_TYPE_NAMES.set(TileType.ENTRANCE_EXIT, gettext(\"Entrance + Exit\"));\nTILE_TYPE_NAMES.set(TileType.REGISTER, gettext(\"Cash register\"));\nTILE_TYPE_NAMES.set(TileType.PRODUCT, gettext(\"Product shelf (without subaisle)\"));\nTILE_TYPE_NAMES.set(TileType.SPACE, gettext(\"Space between aisles\"));\nTILE_TYPE_NAMES.set(TileType.SUBAISLE, gettext(\"Subaisle\"));\nTILE_TYPE_NAMES.set(TileType.BLOCK, gettext(\"Inaccessible tile\"));\n\nexport function getTileTypeName(tileType: TileType): string {\n    return TILE_TYPE_NAMES.get(tileType) || \"?\";\n}\n\nexport function columnLetter(x: number): string {\n    if (x >= 26) {\n        const first = Math.floor(x / 26) - 1;\n        const second = x % 26;\n        return String.fromCharCode(0x41 + first, 0x41 + second);\n    }\n    return String.fromCharCode(0x41 + x);\n}\n\nexport class MapTile {\n    public id: number | null;\n    public x: number;\n    public y: number;\n    public tileType: TileType;\n    public subaisle: Subaisle | null;\n\n    constructor(id: number | null, x: number, y: number, tileType: TileType, subaisle: Subaisle | null) {\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this.tileType = tileType;\n        this.subaisle = subaisle;\n    }\n\n    public static fromDTO(tile: MapTileDTO) {\n        return new MapTile(tile.id, tile.x, tile.y, tile.tile_type as TileType, tile.subaisle);\n    }\n\n    get key(): string {\n        return this.subaisle === null ? \"\" : this.subaisle.display_code;\n    }\n\n    get letterCoords(): string {\n        return `${columnLetter(this.x)}${this.y + 1}`;\n    }\n\n    get tileText(): string {\n        return this.subaisle === null ? getTileTypeName(this.tileType) : this.subaisle.name;\n    }\n\n    get letterCoordsWithText(): string {\n        return `${this.letterCoords}: ${this.tileText}`;\n    }\n}\n\nexport class MapTileRow {\n    public y: number;\n    public tiles: MapTile[];\n\n    constructor(y: number, tiles: MapTile[] = []) {\n        this.y = y;\n        this.tiles = tiles;\n    }\n}\n\nexport class StoreMap {\n    public id: number | null;\n    public width: number;\n    public height: number;\n    public tiles: MapTile[];\n\n    public constructor(id: number | null, width: number, height: number, tiles: MapTile[]) {\n        this.id = id;\n        this.width = width;\n        this.height = height;\n        this.tiles = tiles;\n    }\n\n    public static fromDTOs(map: MapDTO, tiles: MapTileDTO[]): StoreMap {\n        return new StoreMap(\n            map.id, map.width, map.height,\n            tiles.map((mtd) => new MapTile(mtd.id, mtd.x, mtd.y, mtd.tile_type as TileType, mtd.subaisle)),\n        );\n    }\n\n    public toMapDTO(): MapDTO {\n        return new MapDTO(this.id, this.width, this.height);\n    }\n}\n\nexport interface AppDataMSD {\n    map: MapDTO;\n    tiles: MapTileDTO[];\n    aisles: AisleStructureEntry[];\n}\n\nexport interface AppDataSME {\n    map: MapDTO | null;\n    defaultSize: number;\n    tiles: MapTileDTO[];\n    aisles: AisleStructureEntry[];\n    aislesEndpoint: string;\n    saveEndpoint: string;\n}\n\nexport class MapSaveRequest {\n    map: MapDTO;\n    tiles: MapTileDTO[];\n    date: string;\n\n    constructor(map: MapDTO, tiles: MapTileDTO[], date: string) {\n        this.map = map;\n        this.tiles = tiles;\n        this.date = date;\n    }\n}\n\nexport interface MapSaveResponse {\n    success: boolean;\n    message: string;\n    warning: boolean;\n    map: MapDTO | null;\n    tiles: MapTileDTO[];\n}\n\nexport async function getAisles(endpoint: string, validAt: string | dayjs.Dayjs): Promise<AisleStructureEntry[]> {\n    const url: URL = new URL(endpoint, document.location.toString());\n    url.searchParams.set(\"validAt\", getIsoDate(validAt));\n\n    const req = await fetch(url.toString(), {credentials: \"same-origin\"});\n    return req.json();\n}\n\nexport async function saveMap(endpoint: string, mapDTO: MapDTO, tileDTOs: MapTileDTO[],\n                              validAt: string): Promise<MapSaveResponse> {\n    const data = new MapSaveRequest(mapDTO, tileDTOs, validAt);\n    const body = JSON.stringify(data);\n    const csrftoken = (document.querySelector(\"[name=csrfmiddlewaretoken]\") as HTMLInputElement).value;\n    const headers = new Headers();\n    headers.set(\"X-CSRFToken\", csrftoken);\n    const req = await fetch(endpoint, {\n        credentials: \"same-origin\",\n        method: \"POST\",\n        body,\n        headers,\n    });\n    return req.json();\n}\n\nexport function sortedMapTiles(tiles: MapTile[]) {\n    return tiles.sort((t1: MapTile, t2: MapTile) => t1.x - t2.x || t1.y - t2.y);\n}\n","import {AisleStructureEntry, Subaisle} from \"@/defs/map-locations-defs\";\nimport {\n    getTileTypeName,\n    MapTile,\n    MapTileDTO,\n    TileType,\n} from \"@/components/store-map/storemap-defs\";\nimport uniqolor from \"uniqolor\";\n\nexport enum LegendEntryType {\n    SECTION_HEADER,\n    AISLE,\n    SUBAISLE,\n    SPECIAL_TILE\n}\n\nexport enum ColorKey {\n    UNKNOWN = -1,\n    ENTRANCE = -2,\n    EXIT = -3,\n    ENTRANCE_EXIT = -4,\n    REGISTER = -5,\n    PRODUCT = -6,\n    SUBAISLE = -7,\n    BLOCK = -8,\n    SPACE = 0\n}\n\nexport class ColorSpec {\n    color: string;\n    isLight: boolean;\n\n    constructor(color: string, isLight: boolean) {\n        this.color = color;\n        this.isLight = isLight;\n    }\n}\n\nexport class LegendEntry {\n    title: string;\n    key: string;\n    color: ColorSpec | null = null;\n    id: number | null = null;\n    type: LegendEntryType;\n    tileType: TileType | null = null;\n    subaisle: Subaisle | null = null;\n    canActivate: boolean = true;\n\n    constructor(\n        title: string, key: string, color: ColorSpec | null, id: number | null, type: LegendEntryType,\n        tileType: TileType | null = null, subaisle: Subaisle | null = null, canActivate: boolean = true,\n    ) {\n        this.title = title;\n        this.key = key;\n        this.color = color;\n        this.id = id;\n        this.type = type;\n        this.tileType = tileType;\n        this.subaisle = subaisle;\n        this.canActivate = canActivate;\n    }\n}\n\nexport function tileTypeToColor(tileType: TileType): ColorKey {\n    switch (tileType) {\n        case TileType.ENTRANCE:\n            return ColorKey.ENTRANCE;\n        case TileType.EXIT:\n            return ColorKey.EXIT;\n        case TileType.ENTRANCE_EXIT:\n            return ColorKey.ENTRANCE_EXIT;\n        case TileType.REGISTER:\n            return ColorKey.REGISTER;\n        case TileType.PRODUCT:\n            return ColorKey.PRODUCT;\n        case TileType.SUBAISLE:\n            return ColorKey.SUBAISLE;\n        case TileType.SPACE:\n            return ColorKey.SPACE;\n        case TileType.BLOCK:\n            return ColorKey.BLOCK;\n        default:\n            return ColorKey.UNKNOWN;\n    }\n}\n\nexport const BASIC_COLORSPECS: Map<ColorKey, ColorSpec> = new Map();\nBASIC_COLORSPECS.set(ColorKey.ENTRANCE, new ColorSpec(\"#3BF5C0\", true));\nBASIC_COLORSPECS.set(ColorKey.EXIT, new ColorSpec(\"#68DE2A\", true));\nBASIC_COLORSPECS.set(ColorKey.ENTRANCE_EXIT, new ColorSpec(\"#74F52F\", true));\nBASIC_COLORSPECS.set(ColorKey.REGISTER, new ColorSpec(\"#2A66DE\", true));\nBASIC_COLORSPECS.set(ColorKey.PRODUCT, new ColorSpec(\"#AF30FF\", true));\nBASIC_COLORSPECS.set(ColorKey.SPACE, new ColorSpec(\"#E9ECEF\", true));\nBASIC_COLORSPECS.set(ColorKey.SUBAISLE, new ColorSpec(\"#495057\", false)); // Unusual condition\nBASIC_COLORSPECS.set(ColorKey.BLOCK, new ColorSpec(\"#000000\", false));\nBASIC_COLORSPECS.set(ColorKey.UNKNOWN, new ColorSpec(\"#495057\", false));\n\nexport function buildColorMap(aisles: AisleStructureEntry[]): Map<number, ColorSpec> {\n    const colors = new Map();\n    BASIC_COLORSPECS.forEach((v, k) => colors.set(k, v));\n    aisles.forEach((aisle) => {\n        aisle.subaisles.forEach((sa) => {\n            colors.set(sa.id, uniqolor(sa.id + sa.name, {format: \"hex\"}));\n        });\n    });\n    return colors;\n}\n\nexport function buildLegend(aisles: AisleStructureEntry[], colors: Map<number, ColorSpec>): LegendEntry[] {\n    const legend: LegendEntry[] = [];\n    if (aisles.length > 0) {\n        legend.push(new LegendEntry(gettext(\"Aisles\"), \"h1\", null, null,\n            LegendEntryType.SECTION_HEADER));\n    }\n    aisles.forEach((aisle) => {\n        legend.push(new LegendEntry(aisle.name, `a${aisle.id}`, null, aisle.id,\n            LegendEntryType.AISLE));\n        aisle.subaisles.forEach((sa) => {\n            legend.push(new LegendEntry(sa.name, `sa${sa.id}`, colors.get(sa.id) || null, sa.id,\n                LegendEntryType.SUBAISLE, TileType.SUBAISLE, sa));\n        });\n    });\n    legend.push(new LegendEntry(gettext(\"Special tiles\"), \"h2\", null, null,\n        LegendEntryType.SECTION_HEADER));\n\n    function legendEntryFromTileType(tileType: TileType): LegendEntry {\n        const text = getTileTypeName(tileType);\n        const key = tileTypeToColor(tileType);\n        return new LegendEntry(text, text, colors.get(key) || null, null, LegendEntryType.SPECIAL_TILE, tileType);\n    }\n\n    legend.push(legendEntryFromTileType(TileType.ENTRANCE));\n    legend.push(legendEntryFromTileType(TileType.EXIT));\n    legend.push(legendEntryFromTileType(TileType.ENTRANCE_EXIT));\n    legend.push(legendEntryFromTileType(TileType.REGISTER));\n    legend.push(legendEntryFromTileType(TileType.PRODUCT));\n    legend.push(legendEntryFromTileType(TileType.SPACE));\n    legend.push(legendEntryFromTileType(TileType.BLOCK));\n\n    return legend;\n}\n\nexport function getColorForTile(colors: Map<number, ColorSpec>, tile: MapTile): ColorSpec {\n    let color: ColorSpec | undefined;\n    if (tile.subaisle !== null) {\n        color = colors.get(tile.subaisle.id);\n    } else {\n        color = colors.get(tileTypeToColor(tile.tileType));\n    }\n    if (color === undefined) {\n        color = colors.get(ColorKey.UNKNOWN);\n    }\n    if (color === undefined) {\n        throw new Error(\"Invalid color map\");\n    }\n    return color;\n}\n\nexport function getColorCSS(colorSpec: ColorSpec): string {\n    const foregroundColor = colorSpec.isLight ? \"black\" : \"white\";\n    return `background-color:${colorSpec.color};color:${foregroundColor}`;\n}\n\nexport function getColorCSSForTile(colors: Map<number, ColorSpec>, tile: MapTile): string {\n    return getColorCSS(getColorForTile(colors, tile));\n}\n\nexport function tileToMapTileDTOWithColor(mt: MapTile, colors: Map<number, ColorSpec> | null): MapTileDTO {\n    let color: string;\n    let isLight: boolean;\n    if (colors === null) {\n        color = \"#ff0000\";\n        isLight = true;\n    } else {\n        ({color, isLight} = getColorForTile(colors, mt));\n    }\n    return new MapTileDTO(mt.id, mt.x, mt.y, mt.tileType, mt.subaisle, color, isLight);\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n    Watch,\n} from \"vue-property-decorator\";\nimport {\n    columnLetter,\n    getTileTypeName,\n    MapTile,\n    MapTileRow, sortedMapTiles,\n    StoreMap,\n} from \"@/components/store-map/storemap-defs\";\nimport {\n    ColorSpec,\n    getColorCSSForTile,\n} from \"@/components/store-map/tile-legend-coloring\";\n\n@Component\nexport default class MapDisplay extends Vue {\n    @Prop() private map!: StoreMap;\n    @Prop() private colors!: Map<number, ColorSpec>;\n    @Prop() private editable!: boolean;\n    @Prop() private showTooltips!: boolean;\n    @Prop({default: \"regular\"}) private size!: string;\n    public tileRows: MapTileRow[] = [];\n\n    mounted() {\n        this.updateRows();\n    }\n\n    @Watch(\"map\")\n    public updateRows() {\n        this.tileRows = [];\n        for (let i = 0; i < this.map.height; i += 1) {\n            this.tileRows.push(new MapTileRow(i));\n        }\n        const sortedTiles = sortedMapTiles(this.map.tiles);\n        sortedTiles.forEach((tile: MapTile) => this.tileRows[tile.y].tiles.push(tile));\n    }\n\n    private getTitle(tile: MapTile) {\n        let desc;\n        if (tile.subaisle !== null) {\n            desc = tile.subaisle.name;\n            if (tile.subaisle.display_code) {\n                desc += ` (${tile.subaisle.display_code})`;\n            }\n        } else {\n            desc = getTileTypeName(tile.tileType);\n        }\n        return `${tile.letterCoords}: ${desc}`;\n    }\n\n    private registerClick(tile: MapTile) {\n        this.$emit(\"tileClicked\", tile);\n    }\n\n    // noinspection JSMethodCanBeStatic\n    private getColumnLetter(x: number): string {\n        return columnLetter(x);\n    }\n\n    // noinspection JSMethodCanBeStatic\n    private getColorCSS(colors: Map<number, ColorSpec>, tile: MapTile): string {\n        if (this.colors.size > 0) {\n            return getColorCSSForTile(colors, tile);\n        }\n        return \"background-color:gray\";\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapDisplay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapDisplay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MapDisplay.vue?vue&type=template&id=e9261d80&scoped=true&\"\nimport script from \"./MapDisplay.vue?vue&type=script&lang=ts&\"\nexport * from \"./MapDisplay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9261d80\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"store-map-legend\"},[(_vm.editable)?_c('tr',{staticClass:\"store-map-legend-item\",class:{'active': _vm.isActive(null)}},[_c('td',{staticClass:\"store-map-legend-tile store-map-legend-tile-cursor\",on:{\"click\":function($event){return _vm.activateEntry(null)}}}),_c('td',{staticClass:\"store-map-legend-title\",on:{\"click\":function($event){return _vm.activateEntry(null)}}},[_vm._v(_vm._s(_vm.getText(\"Cursor (no changes)\")))])]):_vm._e(),_vm._l((_vm.entries),function(entry){return _c('tbody',{key:entry.key},[_c('tr',{staticClass:\"store-map-legend-item\",class:{'active': _vm.isActive(entry)}},[(_vm.isSubaisle(entry) || _vm.isSpecialTile(entry))?_c('td',{staticClass:\"store-map-legend-tile\",style:(_vm.getColorCSSForEntry(entry)),on:{\"click\":function($event){return _vm.activateEntry(entry)}}}):(!_vm.isSectionHeader(entry) && !_vm.isAisle(entry))?_c('td',{staticClass:\"store-map-legend-tile-blank\"}):_vm._e(),(_vm.isSectionHeader(entry))?_c('td',{staticClass:\"h5\",attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(entry.title))]):(_vm.isAisle(entry))?_c('td',{staticClass:\"h6\",attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(entry.title))]):_c('td',{staticClass:\"store-map-legend-title\",on:{\"click\":function($event){return _vm.activateEntry(entry)}}},[_vm._v(_vm._s(entry.title))])]),(_vm.isAisle(entry) || _vm.isSectionHeader(entry))?_c('tr'):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n    Watch,\n} from \"vue-property-decorator\";\nimport {\n    buildLegend,\n    ColorSpec,\n    getColorCSS,\n    LegendEntry,\n    LegendEntryType,\n} from \"@/components/store-map/tile-legend-coloring\";\nimport {AisleStructureEntry} from \"@/defs/map-locations-defs\";\n\n// noinspection JSMethodCanBeStatic\n@Component\nexport default class MapLegend extends Vue {\n    @Prop() private aisles!: AisleStructureEntry[];\n    @Prop() private colors!: Map<number, ColorSpec>;\n    @Prop() private editable!: boolean;\n    private activeEntry: LegendEntry | null = null;\n    private entries: LegendEntry[] = [];\n\n    mounted() {\n        this.updateEntries();\n    }\n\n    @Watch(\"aisles\")\n    @Watch(\"colors\")\n    private updateEntries() {\n        this.entries = buildLegend(this.aisles, this.colors);\n    }\n\n    private getColorCSSForEntry(entry: LegendEntry): string {\n        return entry.color === null ? \"\" : getColorCSS(entry.color);\n    }\n\n    private isSectionHeader(entry: LegendEntry): boolean {\n        return entry.type === LegendEntryType.SECTION_HEADER;\n    }\n\n    private isAisle(entry: LegendEntry): boolean {\n        return entry.type === LegendEntryType.AISLE;\n    }\n\n    private isSubaisle(entry: LegendEntry): boolean {\n        return entry.type === LegendEntryType.SUBAISLE;\n    }\n\n    private isSpecialTile(entry: LegendEntry): boolean {\n        return entry.type === LegendEntryType.SPECIAL_TILE;\n    }\n\n    private isActive(entry: LegendEntry | null): boolean {\n        return this.editable && entry?.key === this.activeEntry?.key;\n    }\n\n    private activateEntry(entry: LegendEntry | null) {\n        if (entry === undefined || (entry !== null && !entry.canActivate)) return;\n        this.activeEntry = entry;\n        this.$emit(\"activateEntry\", entry);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MapLegend.vue?vue&type=template&id=58b99bd2&scoped=true&\"\nimport script from \"./MapLegend.vue?vue&type=script&lang=ts&\"\nexport * from \"./MapLegend.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58b99bd2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('MapDisplay',{ref:\"display\",attrs:{\"map\":_vm.map,\"colors\":_vm.colors,\"editable\":_vm.editable,\"showTooltips\":_vm.showTooltips,\"size\":_vm.size},on:{\"tileClicked\":_vm.paintTile}})],1),_c('div',{staticClass:\"col-md-4\"},[_c('MapLegend',{attrs:{\"aisles\":_vm.aisles,\"colors\":_vm.colors,\"editable\":_vm.editable},on:{\"activateEntry\":_vm.activateEntry}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\nimport {\n    MapTile,\n    MapTileRow,\n    StoreMap,\n    TileType,\n} from \"@/components/store-map/storemap-defs\";\nimport {AisleStructureEntry} from \"@/defs/map-locations-defs\";\nimport {\n    buildColorMap,\n    ColorSpec,\n    LegendEntry,\n    LegendEntryType,\n} from \"@/components/store-map/tile-legend-coloring\";\nimport MapDisplay from \"@/components/store-map/MapDisplay.vue\";\n\n@Component\nexport default class MapDisplayWithLegend extends Vue {\n    @Prop() private map!: StoreMap;\n    @Prop() private aisles!: AisleStructureEntry[];\n    @Prop() private editable!: boolean;\n    @Prop() private showTooltips!: boolean;\n    @Prop({default: \"regular\"}) private size!: string;\n    private activeEntry: LegendEntry | null = null;\n    public colors: Map<number, ColorSpec> = new Map();\n\n    mounted() {\n        this.updateColors();\n    }\n\n    public getRows(): MapTileRow[] {\n        // @ts-ignore This is always a reference to MapDisplay\n        // eslint-disable-next-line prefer-destructuring\n        const display: MapDisplay = this.$refs.display;\n        return display.tileRows;\n    }\n\n    public updateRows() {\n        // @ts-ignore This is always a reference to MapDisplay\n        // eslint-disable-next-line prefer-destructuring\n        const display: MapDisplay = this.$refs.display;\n        display.updateRows();\n    }\n\n    public updateColors(aisles: AisleStructureEntry[] | null = null) {\n        this.colors = buildColorMap(aisles || this.aisles);\n    }\n\n    private activateEntry(entry: LegendEntry | null) {\n        this.activeEntry = entry;\n    }\n\n    private paintTile(tile: MapTile) {\n        if (!this.editable) {\n            this.$emit(\"tileClicked\", tile); // bubble event only if not editable\n        }\n        if (this.activeEntry === null || !this.editable) {\n            return;\n        }\n        if (this.activeEntry.type === LegendEntryType.SUBAISLE) {\n            tile.tileType = TileType.SUBAISLE;\n            tile.subaisle = this.activeEntry.subaisle;\n        } else if (this.activeEntry.type === LegendEntryType.SPECIAL_TILE && this.activeEntry.tileType !== null) {\n            tile.tileType = this.activeEntry.tileType;\n            tile.subaisle = null;\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapDisplayWithLegend.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapDisplayWithLegend.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MapDisplayWithLegend.vue?vue&type=template&id=38ac3bf4&scoped=true&\"\nimport script from \"./MapDisplayWithLegend.vue?vue&type=script&lang=ts&\"\nexport * from \"./MapDisplayWithLegend.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38ac3bf4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"local-permissions-table-container\"}},[_c('table',{staticClass:\"table table-hover\"},[_c('thead',[_c('tr',_vm._l((_vm.headers()),function(headerData){return _c('th',{key:headerData[0],class:headerData[1]},[_vm._v(_vm._s(headerData[0]))])}),0)]),_c('tbody',[_vm._l((_vm.appData.lpEntries),function(entry){return _c('tr',{key:entry.store},[_c('td',[_vm._v(_vm._s(entry.name))]),_vm._l((_vm.permKeys),function(permKey){return _c('td',{key:permKey,staticClass:\"text-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(entry[permKey]),expression:\"entry[permKey]\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(entry[permKey])?_vm._i(entry[permKey],null)>-1:(entry[permKey])},on:{\"change\":function($event){var $$a=entry[permKey],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(entry, permKey, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(entry, permKey, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(entry, permKey, $$c)}}}})])}),_c('td',[_c('TabItemDelete',{attrs:{\"item\":entry.id},on:{\"delete\":_vm.deleteItem}})],1)],2)}),_c('tr',[_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEntryStore),expression:\"newEntryStore\"}],staticClass:\"w-100\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.newEntryStore=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('optgroup',{attrs:{\"label\":_vm.optGroupLabel}},_vm._l((_vm.filteredStoreList),function(store){return _c('option',{key:store.id,domProps:{\"value\":store}},[_vm._v(\" \"+_vm._s(store.name)+\" \")])}),0)])]),_vm._l((_vm.permKeys),function(permKey){return _c('td',{key:permKey,staticClass:\"text-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEntry[permKey]),expression:\"newEntry[permKey]\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.newEntry[permKey])?_vm._i(_vm.newEntry[permKey],null)>-1:(_vm.newEntry[permKey])},on:{\"change\":function($event){var $$a=_vm.newEntry[permKey],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.newEntry, permKey, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.newEntry, permKey, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.newEntry, permKey, $$c)}}}})])}),_c('td',{staticClass:\"text-left\"},[_c('button',{staticClass:\"btn btn-sm btn-success\",attrs:{\"type\":\"button\",\"disabled\":_vm.newEntryStore === null},on:{\"click\":_vm.addNewItem}},[_c('IconBox',{attrs:{\"icon\":\"plus\",\"size\":\"12\",\"text\":this.getText('Add')}})],1)])],2)],2)]),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"local_permissions_json\"},domProps:{\"value\":_vm.entriesAsJson}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class LocalPermissionEntry {\n    public id: number;\n    public name: string;\n    public can_manage_products: boolean;\n    public can_manage_maps: boolean;\n    public can_manage_deals: boolean;\n    public can_manage_employees: boolean;\n    public can_view_statistics: boolean;\n\n    constructor() {\n        this.id = -1;\n        this.name = \"\";\n        this.can_manage_products = false;\n        this.can_manage_maps = false;\n        this.can_manage_deals = false;\n        this.can_manage_employees = false;\n        this.can_view_statistics = false;\n    }\n}\n\nexport interface AppDataLPT extends AppData {\n    lpTableTitles: Array<Array<string>>;\n    lpEntries: LocalPermissionEntry[];\n}\n\nexport interface Store {\n    id: number;\n    name: string;\n    city: string;\n    region_code: string;\n}\n\nexport async function getStores(): Promise<Array<Store>> {\n    const req = await fetch(\"/api/stores/\");\n    return req.json();\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\nimport {\n    AppDataLPT,\n    getStores,\n    LocalPermissionEntry,\n    Store,\n} from \"@/components/local-permission-table/localpermissiontable-defs\";\n\n@Component\n    export default class LocalPermissionTable extends Vue {\n        @Prop() private appData!: AppDataLPT;\n        private storeList: Store[] = [];\n        private newEntry: LocalPermissionEntry = new LocalPermissionEntry();\n        private newEntryStore: Store | null = null;\n\n        async mounted() {\n            if (this.storeList.length === 0) {\n                this.storeList = await getStores();\n            }\n        }\n\n        get entriesAsJson(): string {\n            return JSON.stringify(this.appData.lpEntries);\n        }\n\n        get filteredStoreList(): Array<Store> {\n            const usedStoreIds = new Set(this.appData.lpEntries.map((lpe: LocalPermissionEntry) => lpe.id));\n            return this.storeList.filter((store: Store) => !usedStoreIds.has(store.id));\n        }\n\n        get optGroupLabel(): string {\n            return this.filteredStoreList.length === 0\n                ? gettext(\"(Permissions added for all stores)\")\n                : gettext(\"Select store to add\");\n        }\n\n        headers(): string[][] {\n            const permTitlesWithAlignment = this.appData.lpTableTitles.map(\n                (x: Array<string>) => [x[1], \"text-center\"],\n            );\n            return [\n                [gettext(\"Store\"), \"text-left\"],\n                ...permTitlesWithAlignment,\n                [gettext(\"Actions\"), \"text-left\"],\n            ];\n        }\n\n        get permKeys(): Array<string> {\n            return this.appData.lpTableTitles.flatMap((x: Array<string>) => x[0]);\n        }\n\n        addNewItem() {\n            if (this.newEntryStore === null) return;\n            this.newEntry.id = this.newEntryStore.id;\n            this.newEntry.name = this.newEntryStore.name;\n            this.appData.lpEntries.push(this.newEntry);\n            this.newEntryStore = null;\n            this.newEntry = new LocalPermissionEntry();\n        }\n\n        deleteItem(item: number) {\n            this.appData.lpEntries = this.appData.lpEntries.filter((value) => value.id !== item);\n        }\n    }\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocalPermissionTable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocalPermissionTable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LocalPermissionTable.vue?vue&type=template&id=2f086a44&scoped=true&\"\nimport script from \"./LocalPermissionTable.vue?vue&type=script&lang=ts&\"\nexport * from \"./LocalPermissionTable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f086a44\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.selected.length !== 0)?_c('span',{staticClass:\"mr-1 comma-separated-links\"},_vm._l((_vm.selected),function(item){return _c('a',{key:item.id,attrs:{\"href\":item.details_url,\"target\":\"_blank\"}},[_vm._v(_vm._s(item.name))])}),0):_vm._e(),(_vm.showBlankRequiredField())?_c('input',{staticClass:\"invisible-input\",attrs:{\"required\":true,\"value\":\"\"}}):_vm._e(),_vm._l((_vm.selected),function(item){return _c('input',{key:item.id,attrs:{\"name\":_vm.appData.misInputName,\"type\":\"hidden\"},domProps:{\"value\":item.id}})}),_c('ModalLauncher',{attrs:{\"modalId\":_vm.appData.misModalId,\"id\":'id_' + _vm.appData.misInputName,\"className\":\"btn btn-outline-primary\"}},[_vm._v(_vm._s(_vm.getText(\"Select\")))]),_c('ModalBox',{attrs:{\"modalId\":_vm.appData.misModalId,\"sizeClass\":\"modal-lg\",\"title\":_vm.appData.misTitle,\"showFooter\":_vm.appData.misMultipleSelection},on:{\"modalAccept\":_vm.handleAccept}},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":_vm.appData.misModalId + 'Search'}},[_vm._v(_vm._s(_vm.getText(\"Search\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],staticClass:\"form-control\",attrs:{\"type\":\"search\",\"id\":_vm.appData.misModalId + 'Search',\"placeholder\":_vm.getText('Search')},domProps:{\"value\":(_vm.searchQuery)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchQuery=$event.target.value}}}),_c('table',{staticClass:\"table table-hover table-vam\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.getText(\"Select\")))]),_c('th',[_vm._v(_vm._s(_vm.appData.misItemName))]),_vm._l((_vm.appData.misExtraFieldNames),function(item){return _c('th',{key:item},[_vm._v(_vm._s(item))])}),_c('th',[_vm._v(_vm._s(_vm.getText(\"Actions\")))])],2)]),_c('tbody',_vm._l((_vm.itemList),function(item){return _c('tr',{key:item.id},[_c('td',[_c('button',{class:{btn: true,\n                            'btn-success': !_vm.appData.misMultipleSelection || _vm.isSelected(item),\n                            'btn-outline-success': _vm.appData.misMultipleSelection && !_vm.isSelected(item)},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleSelectDeselect(item)}}},[_vm._v(_vm._s(_vm.getText(\"Select\")))])]),_c('td',[(item.photo != null)?_c('img',{staticClass:\"mis-image\",attrs:{\"src\":item.photo,\"alt\":item.name}}):_vm._e(),_vm._v(\" \"+_vm._s(item.name))]),_vm._l((item.extras),function(extra){return _c('td',{key:extra},[_vm._v(_vm._s(extra))])}),_c('td',[_c('a',{staticClass:\"btn btn-outline-info\",attrs:{\"href\":item.details_url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.getText(\"Details\")))])])],2)}),0)]),_c('Pagination',{attrs:{\"currentPage\":_vm.itemPage,\"maxPages\":_vm.maxPages},on:{\"back\":_vm.goBack,\"forward\":_vm.goForward}}),(!_vm.showLoading && _vm.itemList.length === 0)?_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.getText(\"No results found.\"))+\" \")]):_vm._e(),(_vm.showLoading)?_c('div',{staticClass:\"text-center\"},[_c('IconBox',{attrs:{\"text\":_vm.getText('Loading' ),\"icon\":\"hourglass-split\",\"size\":\"16\"}})],1):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class ModalItem {\n    public id: number = -1;\n    public name: string = \"\";\n    public details_url: string = \"\";\n    public photo: string | null = null;\n    public extras: string[] = [];\n\n    constructor(id: number, name: string, details_url: string, photo: string | null = null, extras: string[] = []) {\n        this.id = id;\n        this.name = name;\n        this.photo = photo;\n        this.details_url = details_url;\n        this.extras = extras;\n    }\n}\n\nexport class ModalItemContainer {\n    public items: ModalItem[] = [];\n    public page: number = 1;\n    public num_pages: number = 1;\n}\n\nexport async function getModalItems(endpoint: string, page: number, query: string): Promise<ModalItemContainer> {\n    const url = new URL(endpoint, document.location.toString());\n    url.searchParams.set(\"q\", query);\n    url.searchParams.set(\"page\", page.toString());\n    const req = await fetch(url.toString(), {credentials: \"same-origin\"});\n    return req.json();\n}\n\nexport interface AppDataMIS extends AppData {\n    misApiEndpoint: string;\n    misTitle: string;\n    misItemName: string;\n    misModalId: string;\n    misInputName: string;\n    misRequired: boolean;\n    misExtraFieldNames: string[];\n    misMultipleSelection: boolean;\n    misInitialSelection: ModalItem[];\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n    Watch,\n} from \"vue-property-decorator\";\nimport {\n    AppDataMIS,\n    ModalItem,\n    getModalItems,\n} from \"@/components/modal-item-selector/modalitemselector-defs\";\nimport _ from \"lodash\";\n\n@Component\nexport default class ModalItemSelector extends Vue {\n    @Prop() private appData!: AppDataMIS;\n    private showLoading = true;\n    private itemList: ModalItem[] = [];\n    private searchQuery = \"\";\n    private itemPage = 1;\n    private maxPages = 1;\n    private selected: ModalItem[] = [];\n    private newSelection: ModalItem[] = [];\n    private selectionsCopied: boolean = false;\n    private jQueryModal!: JQuery;\n\n    mounted() {\n        if (!this.selectionsCopied) {\n            this.selected = this.appData.misInitialSelection;\n            this.selectionsCopied = true;\n        }\n        this.jQueryModal = jQuery(`#${this.appData.misModalId}`);\n        this.jQueryModal.on(\"show.bs.modal\", () => {\n            this.newSelection = this.selected;\n            this.itemPage = 1;\n            this.searchQuery = \"\";\n            this.loadData();\n        });\n    }\n\n    @Watch(\"searchQuery\")\n    @Watch(\"itemPage\")\n    private loadData() {\n        this.showLoading = true;\n        getModalItems(this.appData.misApiEndpoint, this.itemPage, this.searchQuery).then((dataContainer) => {\n                this.itemList = dataContainer.items;\n                this.maxPages = dataContainer.num_pages;\n                this.itemPage = dataContainer.page;\n                this.showLoading = false;\n                // @ts-ignore: Modal added by Bootstrap\n                this.jQueryModal.modal(\"handleUpdate\");\n            });\n    }\n\n    private goBack() {\n        if (this.itemPage > 1) {\n            this.itemPage -= 1;\n        }\n    }\n\n    private goForward() {\n        if (this.itemPage < this.maxPages) {\n            this.itemPage += 1;\n        }\n    }\n\n    private handleAccept() {\n        this.selected = this.newSelection;\n        // @ts-ignore: Modal added by Bootstrap\n        this.jQueryModal.modal(\"hide\");\n    }\n\n    private isSelected(item: ModalItem): boolean {\n        return this.newSelection.find((i) => i.id === item.id) !== undefined;\n    }\n\n    private showBlankRequiredField() {\n        return this.appData.misRequired && this.selected.length === 0;\n    }\n\n    private handleSelectDeselect(item: ModalItem) {\n        if (!this.appData.misMultipleSelection) {\n            this.selected = [item];\n            // @ts-ignore: Modal added by Bootstrap\n            this.jQueryModal.modal(\"hide\");\n        } else if (this.isSelected(item)) {\n            this.newSelection = this.newSelection.filter((i) => i.id !== item.id);\n        } else {\n            this.newSelection.push(item);\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalItemSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalItemSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModalItemSelector.vue?vue&type=template&id=34a850fc&\"\nimport script from \"./ModalItemSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModalItemSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{ref:\"outputFormField\",attrs:{\"name\":\"extra_metadata_raw\",\"type\":\"hidden\"},domProps:{\"value\":_vm.outputExtraMetadata()}}),_c('table',{staticClass:\"table table-hover table-vam\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"45%\"}},[_vm._v(_vm._s(_vm.getText(\"Field\")))]),_c('th',{attrs:{\"width\":\"45%\"}},[_vm._v(_vm._s(_vm.getText(\"Value\")))]),_c('th',{attrs:{\"width\":\"10%\"}},[_vm._v(_vm._s(_vm.getText(\"Actions\")))])])]),_c('tbody',[_vm._l((_vm.itemList),function(item){return _c('tr',{key:item.id},[_c('td',[(item.slug === '' && _vm.appData.emeHighlightCustom)?_c('span',{staticClass:\"text-warning mr-1\"},[_vm._v(\"\")]):_vm._e(),_vm._v(\" \"+_vm._s(item.name))]),_c('td',[_c('ExtraMetadataEditorInput',{attrs:{\"item\":item}})],1),_c('td',[_c('TabItemDelete',{attrs:{\"item\":item.id},on:{\"delete\":_vm.deleteItem}})],1)])}),_c('tr',[_vm._m(0),_c('td',[_c('ExtraMetadataEditorInput',{attrs:{\"item\":_vm.newItem}})],1),_c('td',[_c('button',{staticClass:\"btn btn-sm btn-success\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canAddItem()},on:{\"click\":_vm.addItem}},[_c('IconBox',{attrs:{\"icon\":\"plus\",\"text\":_vm.getText('Add'),\"size\":\"12\"}})],1)])])],2)]),(_vm.showLoading)?_c('div',{staticClass:\"text-center\"},[_c('IconBox',{attrs:{\"text\":_vm.getText('Loading' ),\"icon\":\"hourglass-split\",\"size\":\"16\"}})],1):_vm._e(),(_vm.showValidationError)?_c('div',{staticClass:\"text-danger\"},[_c('IconBox',{attrs:{\"text\":_vm.getValidationErrorText(),\"icon\":\"x-circle-fill\",\"size\":\"16\"}})],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('select',{staticClass:\"extra-metadata-new-select\"},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"---------\")])])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n} from \"vue-property-decorator\";\nimport {\n    AppDataEME,\n    getStandardFields,\n    InternalMetaValue,\n    MetaValue,\n    StandardMetaField,\n    StandardMetaFieldContainer,\n} from \"@/components/extra-metadata-editor/extrametadataeditor-defs\";\n\n@Component\nexport default class ExtraMetadataEditor extends Vue {\n    @Prop() private appData!: AppDataEME;\n    private showLoading = false;\n    private showValidationError = false;\n    private requiredFieldsMissing: string[] = [];\n    private itemList: InternalMetaValue[] = [];\n    private standardFields: StandardMetaFieldContainer = new StandardMetaFieldContainer();\n    private standardFieldsMap: Map<string, StandardMetaField> = new Map<string, StandardMetaField>();\n    private standardFieldSlugs: Set<string> = new Set<string>();\n    private standardFieldsFromSubcategory: boolean = false;\n    private subcategorySelect: HTMLSelectElement | null = null;\n    private newItem: InternalMetaValue = new InternalMetaValue();\n    private lastId = 0;\n\n    private buildStandardFieldsMap() {\n        this.standardFieldsMap = new Map<string, StandardMetaField>();\n        this.standardFields.items.forEach((smf) => this.standardFieldsMap.set(smf.slug, smf));\n    }\n\n    private buildStandardFieldSlugs() {\n        this.standardFieldSlugs = new Set<string>();\n        this.standardFields.items.forEach((smf) => this.standardFieldSlugs.add(smf.slug));\n    }\n\n    private updateItemListWithStandardFields() {\n        this.itemList.forEach((mv) => {\n            mv.standardMetaField = this.getStandardMetaField(mv);\n        });\n    }\n\n    private getStandardMetaField(mv: MetaValue) {\n        const smf = this.standardFieldsMap.get(mv.slug);\n        return smf === undefined ? null : smf;\n    }\n\n    mounted() {\n        this.addHandlerToSubmit();\n        this.itemList = this.appData.emeInitialData.map((mv, index) => InternalMetaValue.toInternal(mv, index, null));\n        this.lastId = this.itemList.length - 1;\n        if (this.appData.emeUseSubcategory) {\n            this.subcategorySelect = document.querySelector<HTMLSelectElement>(\"select[name='subcategory']\");\n            if (this.subcategorySelect !== null) {\n                this.getStandardFieldsData(this.subcategorySelect.value);\n                this.subcategorySelect.addEventListener(\"change\", () => {\n                    if (this.subcategorySelect !== null) {\n                        this.getStandardFieldsData(this.subcategorySelect.value);\n                    }\n                });\n            } else {\n                this.getStandardFieldsData(null);\n            }\n        } else {\n            this.getStandardFieldsData(null);\n        }\n        const sel = $(\".extra-metadata-new-select\");\n        // eslint-disable-next-line\n        const self = this;\n        // @ts-ignore Select2\n        sel.select2({\n            theme: \"bootstrap4\",\n            width: \"100%\",\n            tags: true,\n        });\n        // eslint-disable-next-line\n        sel.on(\"select2:select\", (ev: any) => {\n            // @ts-ignore Select2\n            // eslint-disable-next-line\n            let data: any = sel.select2(\"data\")[0];\n            this.newItem.slug = this.standardFieldSlugs.has(data.id) ? data.id : \"\";\n            this.newItem.name = data.text;\n            this.newItem.units = \"\";\n            this.newItem.standardMetaField = this.getStandardMetaField(this.newItem);\n        });\n    }\n\n    getStandardFieldsData(theSubcategory: string | number | null) {\n        this.showLoading = true;\n        let subcategory = theSubcategory;\n        if (typeof subcategory === \"string\") {\n            subcategory = parseInt(subcategory, 10);\n        }\n        if (subcategory !== null && (subcategory <= 0 || Number.isNaN(subcategory))) {\n            subcategory = null;\n        }\n        getStandardFields(this.appData.emeApiEndpoint, subcategory).then((smfc) => {\n            this.showLoading = false;\n            this.standardFields = smfc;\n            this.standardFieldsFromSubcategory = theSubcategory !== null;\n            this.updateSelect2();\n            this.buildStandardFieldsMap();\n            this.buildStandardFieldSlugs();\n            this.updateItemListWithStandardFields();\n        });\n    }\n\n    updateSelect2() {\n        const sel = $(\".extra-metadata-new-select\");\n        sel.html(\"\").trigger(\"change\");\n        const blankOption = new Option(\"---------\", \"\", false, false);\n        sel.append(blankOption).trigger(\"change\");\n        const usedStandardFields = new Set(this.itemList.map((imv) => imv.slug));\n        this.standardFields.items.forEach((smf) => {\n            if (usedStandardFields.has(smf.slug)) return;\n            const newOption = new Option(this.getNameWithReq(smf), smf.slug, false, false);\n            sel.append(newOption).trigger(\"change\");\n        });\n        sel.val(this.newItem.slug).trigger(\"change\");\n    }\n\n    addItem() {\n        if (!this.canAddItem()) return;\n        this.newItem.id = this.lastId;\n        if (this.newItem.slug !== \"\") {\n            // Remove asterisk from name\n            const newName = this.standardFieldsMap.get(this.newItem.slug)?.name;\n            this.newItem.name = newName !== undefined ? newName : this.newItem.name;\n        }\n        this.lastId += 1;\n        this.itemList.push(this.newItem);\n        this.newItem = new InternalMetaValue();\n        $(\".extra-metadata-new-select\").val(\"\").trigger(\"change\");\n        this.updateSelect2();\n    }\n\n    canAddItem() {\n        const eun = this.newItem.standardMetaField?.expected_units_names;\n        if (eun !== undefined && eun.length > 0 && this.newItem.standardMetaField?.expected_units !== \"_bool\") {\n            return this.newItem.units !== \"\" && this.newItem.value !== \"\";\n        }\n        return this.newItem.value !== \"\";\n    }\n\n    deleteItem(item: number) {\n        this.itemList = this.itemList.filter((value) => value.id !== item);\n        this.updateSelect2();\n    }\n\n    getNameWithReq(smf: StandardMetaField): string {\n        let {name} = smf;\n        if (smf.is_required) {\n            name += \" *\";\n        }\n        return name;\n    }\n\n    outputExtraMetadata(): string {\n        return JSON.stringify(this.itemList.map((imv) => imv.toGeneral()));\n    }\n\n    addHandlerToSubmit() {\n        // @ts-ignore The type definitions dont know its an input element\n        const hiddenInput: HTMLInputElement = this.$refs.outputFormField;\n        if (hiddenInput.form !== null) {\n            hiddenInput.form.addEventListener(\"submit\", this.validateForm);\n        }\n    }\n\n    validateForm(ev: Event): boolean {\n        let success = true;\n        this.requiredFieldsMissing = [];\n        if (this.standardFieldsFromSubcategory) {\n            const standardItemSet = new Set(this.standardFields.items.map((smf) => smf.name));\n            this.itemList.forEach((imf) => {\n                standardItemSet.delete(imf.name);\n            });\n            if (standardItemSet.size > 0) {\n                success = false;\n                standardItemSet.forEach((name) => this.requiredFieldsMissing.push(name));\n            }\n        }\n        this.showValidationError = !success;\n        if (!success) {\n            ev.preventDefault();\n        }\n        return success;\n    }\n\n    getValidationErrorText(): string {\n        if (this.requiredFieldsMissing.length === 0) {\n            return gettext(\"An unexpected validation error occurred.\");\n        }\n        return gettext(\"The following required fields are missing: \") + this.requiredFieldsMissing.join(\", \");\n    }\n}\n","import {\nAisleStructureEntry, CategoryStructureEntry, Subaisle, Subcategory,\n} from \"@/defs/map-locations-defs\";\nimport {MapDTO, MapTile, MapTileDTO} from \"@/components/store-map/storemap-defs\";\nimport {getIsoDate} from \"@/defs/date-handling\";\nimport dayjs from \"dayjs\";\n\nexport interface AppDataPLT {\n    getEndpoint: string;\n    updateEndpoint: string;\n    groupsEndpoint: string;\n    defaultPageSize: number;\n    initialView: string;\n    categoryStructure: CategoryStructureEntry[];\n}\n\nexport enum ProductLocationFilter {\n    ALL = \"all\",\n    AUTO = \"auto\",\n    MANUAL = \"manual\",\n    MISSING = \"missing\"\n}\n\nexport interface ProductToLocate {\n    id: number;\n    name: string;\n    vendor: string;\n    vendor_details_url: string;\n    date_started: string;\n    date_ended: string;\n    details_url: string;\n    subcategory: Subcategory;\n    location: ProductLocation | null;\n}\n\nexport class ProductLocation {\n    public id: number | null = null;\n    public tile: MapTileDTO | MapTile | null = null;\n    public subaisle: Subaisle | null = null;\n    public is_auto: boolean = false;\n    public date_started: string;\n    public date_ended: string;\n\n    constructor(id: number | null, tile: MapTileDTO | MapTile | null, subaisle: Subaisle | null,\n                is_auto: boolean, date_started: string, date_ended: string) {\n        this.id = id;\n        this.tile = tile;\n        this.subaisle = subaisle;\n        this.is_auto = is_auto;\n        this.date_started = date_started;\n        this.date_ended = date_ended;\n    }\n}\n\nexport class ProductLocationChange {\n    public product: ProductToLocate;\n    public tile: MapTile | MapTileDTO | null = null;\n    public subaisle: Subaisle | null = null;\n    public start_tile: MapTile | MapTileDTO | null = null;\n    public start_subaisle: Subaisle | null = null;\n    public revert_auto: boolean = false;\n    public delete_location: boolean = false;\n\n    constructor(product: ProductToLocate, tile: MapTile | MapTileDTO | null = null, subaisle: Subaisle | null = null,\n                start_tile: MapTile | MapTileDTO | null = null, start_subaisle: Subaisle | null = null,\n                revert_auto: boolean = false, delete_location: boolean = false) {\n        this.product = product;\n        this.tile = tile;\n        this.subaisle = subaisle;\n        this.start_tile = start_tile;\n        this.start_subaisle = start_subaisle;\n        this.revert_auto = revert_auto;\n        this.delete_location = delete_location;\n    }\n\n    public prepareForUpload(): ProductLocationChange {\n        const product = {...this.product, location: null};\n        let {tile} = this;\n        if (this.tile !== null && \"tileType\" in this.tile) {\n            tile = MapTileDTO.fromMapTile(this.tile);\n        }\n        return new ProductLocationChange(product, tile, this.subaisle, null, null, this.revert_auto,\n                                         this.delete_location);\n    }\n\n    public static fromProduct(product: ProductToLocate): ProductLocationChange {\n        const tile = product.location?.tile;\n        const subaisle = product.location?.subaisle;\n        return new ProductLocationChange(product, tile, subaisle, tile, subaisle);\n    }\n\n    public hasChanges(): boolean {\n        return this.hasValueChanges() || this.hasExtrasChanges();\n    }\n\n    public hasValueChanges(): boolean {\n        return this.tile?.id !== this.start_tile?.id || this.subaisle?.id !== this.start_subaisle?.id;\n    }\n\n    public hasExtrasChanges(): boolean {\n        return this.revert_auto || this.delete_location;\n    }\n}\n\nexport class ProductLocationsTableItem {\n    public product: ProductToLocate;\n    public change: ProductLocationChange;\n\n    constructor(product: ProductToLocate, change: ProductLocationChange) {\n        this.product = product;\n        this.change = change;\n    }\n}\n\nexport interface ProductLocationGetResponse {\n    products: ProductToLocate[];\n    page: number;\n    totalPages: number;\n    filter: ProductLocationFilter;\n}\n\nexport interface ProductGroupsGetResponse {\n    map: MapDTO;\n    tiles: MapTileDTO[];\n    categoryStructure: CategoryStructureEntry[];\n    aisleStructure: AisleStructureEntry[];\n    subaisles: Subaisle[];\n}\n\nexport interface ProductLocationChangeDescription {\n    date: string;\n    changes: ProductLocationChange[];\n}\n\nexport interface ProductLocationChangeResponse {\n    success: boolean;\n    message: string;\n    warning: boolean;\n}\n\nexport async function getProducts(endpoint: string, filter: ProductLocationFilter, name: string,\n                                  vendor: string, subcategory: number, validAt: string | dayjs.Dayjs,\n                                  pageNumber: number, pageSize: number): Promise<ProductLocationGetResponse> {\n    const url: URL = new URL(endpoint, document.location.toString());\n    if (name.trim().length > 0) {\n        url.searchParams.set(\"q\", name.trim());\n    }\n    if (vendor.trim().length > 0) {\n        url.searchParams.set(\"vendor\", vendor.trim());\n    }\n    if (subcategory > 0) {\n        url.searchParams.set(\"subcategory\", subcategory.toString());\n    }\n    url.searchParams.set(\"validAt\", getIsoDate(validAt));\n    url.searchParams.set(\"page\", pageNumber.toString());\n    url.searchParams.set(\"page_size\", pageSize.toString());\n    url.searchParams.set(\"filter\", filter);\n\n    const req = await fetch(url.toString(), {credentials: \"same-origin\"});\n    return req.json();\n}\n\nexport async function getProductGroups(endpoint: string,\n                                       validAt: string | dayjs.Dayjs): Promise<ProductGroupsGetResponse> {\n    const url: URL = new URL(endpoint, document.location.toString());\n    url.searchParams.set(\"validAt\", getIsoDate(validAt));\n    const req = await fetch(url.toString(), {credentials: \"same-origin\"});\n    return req.json();\n}\n\nexport async function saveChanges(endpoint: string, changes: ProductLocationChange[],\n                                  date: string | dayjs.Dayjs): Promise<ProductLocationChangeResponse> {\n    const data: ProductLocationChangeDescription = {changes, date: getIsoDate(date)};\n    const body = JSON.stringify(data);\n    const csrftoken = (document.querySelector(\"[name=csrfmiddlewaretoken]\") as HTMLInputElement).value;\n    const headers = new Headers();\n    headers.set(\"X-CSRFToken\", csrftoken);\n    const req = await fetch(endpoint, {\n        credentials: \"same-origin\",\n        method: \"POST\",\n        body,\n        headers,\n    });\n    return req.json();\n}\n\nexport const FILTER_OPTIONS: [ProductLocationFilter, string][] = [\n    [ProductLocationFilter.ALL, gettext(\"Show all\")],\n    [ProductLocationFilter.AUTO, gettext(\"Auto-assigned\")],\n    [ProductLocationFilter.MANUAL, gettext(\"Manually assigned\")],\n    [ProductLocationFilter.MISSING, gettext(\"Missing location\")],\n];\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraMetadataEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraMetadataEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExtraMetadataEditor.vue?vue&type=template&id=211f0305&\"\nimport script from \"./ExtraMetadataEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExtraMetadataEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"collapse pb-2\",attrs:{\"id\":\"store-map\"}},[_c('div',{staticClass:\"card\"},[(_vm.storeMap !== null)?_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.getText(\"Store map\")))]),_c('MapDisplayWithLegend',{attrs:{\"map\":_vm.storeMap,\"aisles\":_vm.aisleStructure,\"editable\":false,\"showTooltips\":true,\"size\":\"regular\"},on:{\"tileClicked\":_vm.setTileFromClick}})],1):_c('div',{staticClass:\"card-body\"},[_c('p',[_vm._v(_vm._s(_vm.getText(\"No map is available for this store at the selected validity time.\")))])])])]),_c('div',{staticClass:\"card-box card-box-top\"},[_c('form',{staticClass:\"form-inline align-content-center flex-column\",attrs:{\"action\":\"\",\"method\":\"GET\"}},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"btn-group mr-2\",attrs:{\"role\":\"group\",\"aria-label\":_vm.getText('Filters')}},_vm._l((_vm.FILTER_OPTIONS_),function(theFilter){return _c('button',{key:theFilter[0],staticClass:\"btn btn-outline-primary\",class:{'active': _vm.filter === theFilter[0]},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.filter = theFilter[0]}}},[_vm._v(_vm._s(theFilter[1]))])}),0)]),_c('div',{staticClass:\"d-flex mt-2\"},[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nameSearch),expression:\"nameSearch\"}],staticClass:\"form-control mr-2\",attrs:{\"placeholder\":_vm.getText('Name'),\"id\":\"name-search\"},domProps:{\"value\":(_vm.nameSearch)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nameSearch=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vendorSearch),expression:\"vendorSearch\"}],staticClass:\"form-control mr-2\",attrs:{\"placeholder\":_vm.getText('Vendor'),\"id\":\"vendor-search\"},domProps:{\"value\":(_vm.vendorSearch)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.vendorSearch=$event.target.value}}}),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subcategorySearch),expression:\"subcategorySearch\"}],staticClass:\"form-control mr-2\",attrs:{\"id\":\"subcategory-search\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.subcategorySearch=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(_vm._s(_vm.getText( \"Select subcategory\")))]),_vm._l((_vm.categoryStructure),function(cat){return _c('optgroup',{key:cat.id,attrs:{\"label\":cat.name}},_vm._l((cat.subcategories),function(sc){return _c('option',{key:sc.id,domProps:{\"value\":sc.id}},[_vm._v(_vm._s(sc.name))])}),0)})],2)]),_c('div',{staticClass:\"vertical-divider ml-3 pl-3\"},[_c('label',{staticClass:\"mr-2 d-inline\",attrs:{\"for\":\"items-per-page\"}},[_vm._v(_vm._s(_vm.getText(\"Items per page:\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.itemsPerPage),expression:\"itemsPerPage\",modifiers:{\"number\":true}}],staticClass:\"form-control mr-2\",attrs:{\"id\":\"items-per-page\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return _vm._n(val)}); _vm.itemsPerPage=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":10}},[_vm._v(\"10\")]),_c('option',{domProps:{\"value\":30}},[_vm._v(\"30\")]),_c('option',{domProps:{\"value\":50}},[_vm._v(\"50\")])]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#store-map\",\"aria-expanded\":\"false\",\"aria-controls\":\"store-map\"}},[_vm._v(\" \"+_vm._s(_vm.getText(\"Show/hide store map\"))+\" \")])])])])]),_c('table',{staticClass:\"table table-hover table-vam\"},[_c('tr',[_c('th',{staticStyle:{\"width\":\"15%\"}},[_vm._v(_vm._s(_vm.getText(\"Product\")))]),_c('th',{staticStyle:{\"width\":\"15%\"}},[_vm._v(_vm._s(_vm.getText(\"Vendor\")))]),_c('th',{staticStyle:{\"width\":\"15%\"}},[_vm._v(_vm._s(_vm.getText(\"Validity\")))]),_c('th',{staticStyle:{\"width\":\"15%\"}},[_vm._v(_vm._s(_vm.getText(\"Subaisle\")))]),_c('th',{staticStyle:{\"width\":\"15%\"}},[_vm._v(_vm._s(_vm.getText(\"Tile\")))]),_c('th',{staticStyle:{\"width\":\"15%\"}},[_vm._v(_vm._s(_vm.getText(\"Actions\")))])]),_vm._l((_vm.items),function(item){return _c('ProductLocationsTableRow',{key:item.product.id,attrs:{\"product\":item.product,\"change\":item.change,\"aisleStructure\":_vm.aisleStructure,\"tileList\":_vm.tileList,\"isPicking\":_vm.pickingFor !== null && _vm.pickingFor.product.id === item.product.id},on:{\"startPicking\":_vm.startPickingFromMap}})})],2),(_vm.showLoading === 0 && _vm.initialized && _vm.items.length === 0)?_c('div',[_c('p',{staticClass:\"lead\"},[_vm._v(_vm._s(_vm.getText(\"No results found.\" )))])]):_vm._e(),_c('MessageDisplay',{ref:\"messages\"}),_c('Pagination',{attrs:{\"currentPage\":_vm.page,\"maxPages\":_vm.totalPages},on:{\"back\":_vm.goBack,\"forward\":_vm.goForward}}),_c('div',{staticClass:\"card-box card-box-bottom\"},[_c('div',{staticClass:\"form-inline justify-content-center\"},[_c('label',{attrs:{\"for\":\"valid-at-field\"}},[_vm._v(_vm._s(_vm.getText(\"Changes in effect after:\" )))]),_c('div',{staticClass:\"input-group date\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.validAt),expression:\"validAt\"}],staticClass:\"form-control ml-2\",attrs:{\"type\":\"text\",\"name\":\"date_started\",\"placeholder\":_vm.getText('Valid from'),\"title\":\"\",\"id\":\"valid-at-field\",\"dp_config\":\"{\\\"id\\\": \\\"dp_1\\\", \\\"picker_type\\\":\\n\\\"DATETIME\\\", \\\"linked_to\\\": null, \\\"options\\\": {\\\"showClose\\\": true,\\n\\\"showClear\\\": false, \\\"showTodayButton\\\": true, \\\"format\\\": \\\"YYYY-MM-DD HH:mm:ss\\\"}}\"},domProps:{\"value\":(_vm.validAt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.validAt=$event.target.value}}}),_vm._m(0)]),_c('div',{staticClass:\"vertical-divider ml-3 pl-3\"},[_c('button',{staticClass:\"btn btn-lg btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.saveChanges()}}},[_c('IconBox',{attrs:{\"icon\":\"check\",\"size\":\"16\",\"text\":_vm.getText('Save')}}),(_vm.changeCount() > 0)?_c('span',[_vm._v(\" (\"+_vm._s(_vm.changeCount())+\")\")]):_vm._e()],1),_c('button',{staticClass:\"btn btn-lg btn-outline-warning ml-1\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.clearChanges()}}},[_c('IconBox',{attrs:{\"icon\":\"x-square\",\"size\":\"16\",\"text\":_vm.getText('Undo all')}})],1)])])]),(_vm.showLoading > 0)?_c('div',{staticClass:\"alert alert-secondary mt-1\"},[_c('IconBox',{attrs:{\"size\":\"16\",\"icon\":\"hourglass-split\",\"text\":_vm.getText('Loading')}})],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-addon input-group-append\",attrs:{\"data-target\":\"#datetimepicker1\",\"data-toggle\":\"datetimepickerv\"}},[_c('div',{staticClass:\"input-group-text\"},[_c('i',{staticClass:\"glyphicon glyphicon-calendar\"})])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n    Watch,\n} from \"vue-property-decorator\";\nimport {\n    AppDataPLT,\n    getProductGroups,\n    getProducts,\n    ProductGroupsGetResponse,\n    ProductLocationChange,\n    ProductLocationChangeResponse,\n    ProductLocationGetResponse,\n    ProductLocationFilter,\n    ProductLocationsTableItem,\n    ProductToLocate,\n    saveChanges,\n    FILTER_OPTIONS,\n} from \"@/components/product-locations-table/productlocationstable-defs\";\nimport dayjs from \"dayjs\";\nimport {\n    CategoryStructureEntry,\n    AisleStructureEntry,\n    Subaisle,\n} from \"@/defs/map-locations-defs\";\nimport {DATE_FORMAT} from \"@/defs/constants\";\nimport {MapTile, StoreMap} from \"@/components/store-map/storemap-defs\";\nimport MessageDisplay from \"@/components/common/MessageDisplay.vue\";\n\n@Component\nexport default class ProductLocationsTable extends Vue {\n    @Prop() private appData!: AppDataPLT;\n    private items: ProductLocationsTableItem[] = [];\n    private aisleStructure: AisleStructureEntry[] = [];\n    private categoryStructure: CategoryStructureEntry[] = [];\n    private subaisleList: Subaisle[] = [];\n    private tileList: MapTile[] = [];\n    private filter: ProductLocationFilter = ProductLocationFilter.ALL;\n    private changes: ProductLocationChange[] = [];\n    private changesById: Map<number, ProductLocationChange> = new Map();\n    private validAt: string = \"\";\n    private nameSearch: string = \"\";\n    private vendorSearch: string = \"\";\n    private subcategorySearch: number = 0;\n    private page: number = 1;\n    private totalPages: number = 1;\n    private itemsPerPage: number = 10;\n    private showLoading: number = 0;\n    private storeMap: StoreMap | null = null;\n    private initialized: boolean = false;\n    private FILTER_OPTIONS_: [ProductLocationFilter, string][] = FILTER_OPTIONS; // copy for Vue template\n    private pickingFor: ProductLocationChange | null = null;\n\n    async mounted() {\n        this.filter = this.appData.initialView as ProductLocationFilter;\n        this.itemsPerPage = this.appData.defaultPageSize;\n        this.categoryStructure = this.appData.categoryStructure;\n        this.validAt = dayjs().format(DATE_FORMAT);\n        this.initialized = true;\n        // Bridge between Vue and bootstrap-datepicker\n        // eslint-disable-next-line\n        $(\"#valid-at-field\").on(\"dp.change\", (e: any) => {\n            this.validAt = e.date.format(DATE_FORMAT);\n        });\n        await this.updateList(true);\n        await this.updateGroups();\n    }\n\n    get messages(): MessageDisplay {\n        // @ts-ignore This is always a reference to MessageDisplay\n        return this.$refs.messages;\n    }\n\n    @Watch(\"nameSearch\")\n    @Watch(\"vendorSearch\")\n    @Watch(\"subcategorySearch\")\n    @Watch(\"validAt\")\n    @Watch(\"filter\")\n    @Watch(\"page\")\n    @Watch(\"itemsPerPage\")\n    private async watcherUpdateList() {\n        if (!this.initialized) return;\n        await this.updateList();\n    }\n\n    @Watch(\"validAt\")\n    private async watcherUpdateGroups() {\n        if (!this.initialized) return;\n        await this.updateGroups();\n    }\n\n    private async updateList(allowSwitching: boolean = false) {\n        if (this.showLoading === 0) {\n            this.messages.clearMessages();\n        }\n        this.showLoading += 1;\n        let response: ProductLocationGetResponse;\n        try {\n            response = await getProducts(\n                this.appData.getEndpoint, this.filter, this.nameSearch, this.vendorSearch, this.subcategorySearch,\n                this.validAt, this.page, this.itemsPerPage,\n            );\n        } catch (e) {\n            this.messages.setError(gettext(\"Unable to get product data!\"));\n            return;\n        } finally {\n            this.showLoading -= 1;\n        }\n        if (this.filter !== response.filter) {\n            if (allowSwitching) {\n                this.filter = response.filter;\n            } else {\n                this.items = [];\n                this.page = 1;\n                this.totalPages = 0;\n                return;\n            }\n        }\n        this.updateItems(response.products);\n        this.page = response.page;\n        this.totalPages = response.totalPages;\n    }\n\n    private async updateGroups() {\n        if (this.showLoading === 0) {\n            this.messages.clearMessages();\n        }\n        this.showLoading += 1;\n        let response: ProductGroupsGetResponse;\n        try {\n            response = await getProductGroups(this.appData.groupsEndpoint, this.validAt);\n        } catch (e) {\n            this.showLoading -= 1;\n            this.messages.setError(gettext(\"Unable to get groups list!\"));\n            return;\n        }\n        this.showLoading -= 1;\n        this.aisleStructure = response.aisleStructure;\n        this.subaisleList = response.subaisles;\n        this.storeMap = StoreMap.fromDTOs(response.map, response.tiles);\n        this.tileList = this.storeMap.tiles;\n    }\n\n    private async saveChanges() {\n        this.messages.clearMessages();\n        this.showLoading += 1;\n        const filteredChanges = this.changes.filter((change) => change.hasChanges()).map(\n            (change) => change.prepareForUpload(),\n        );\n        let response: ProductLocationChangeResponse;\n        try {\n            response = await saveChanges(\n                this.appData.updateEndpoint, filteredChanges, this.validAt,\n            );\n        } catch (e) {\n            this.showLoading -= 1;\n            this.messages.appendError(gettext(\"Failed to save changes!\"));\n            return;\n        }\n        this.showLoading -= 1;\n        if (response.success) {\n            this.clearEverything();\n            await this.updateList();\n            this.messages.setSuccessFlash(response.message);\n        } else if (response.warning) {\n            this.clearEverything();\n            await this.updateList();\n            this.messages.setWarningFlash(response.message);\n        } else {\n            this.messages.setError(response.message);\n        }\n    }\n\n    private updateItems(products: ProductToLocate[]) {\n        this.items = [];\n        products.forEach((product) => {\n            if (product.location !== null && product.location.tile !== null && \"tile_type\" in product.location.tile) {\n                product.location.tile = MapTile.fromDTO(product.location.tile);\n            }\n\n            let change = this.changesById.get(product.id);\n            if (change === undefined) {\n                change = ProductLocationChange.fromProduct(product);\n                this.changes.push(change);\n                this.changesById.set(product.id, change);\n            }\n            this.items.push(new ProductLocationsTableItem(product, change));\n        });\n    }\n\n    private clearEverything() {\n        this.changes = [];\n        this.items = [];\n        this.changesById.clear();\n    }\n\n    private clearChanges() {\n        this.changes = [];\n        this.items.forEach((item) => {\n            item.change = ProductLocationChange.fromProduct(item.product);\n            this.changes.push(item.change);\n            this.changesById.set(item.product.id, item.change);\n        });\n    }\n\n    private startPickingFromMap(change: ProductLocationChange) {\n        if (change.product?.id === this.pickingFor?.product?.id) {\n            this.pickingFor = null;\n            return;\n        }\n        this.pickingFor = change;\n        // @ts-ignore collapse added by Bootstrap\n        $(\"#store-map\").collapse(\"show\");\n    }\n\n    private setTileFromClick(tile: MapTile) {\n        if (this.pickingFor === null) return;\n        this.pickingFor.tile = tile;\n        this.pickingFor = null;\n    }\n\n    private changeCount() {\n        return this.changes.filter((change) => change.hasChanges()).length;\n    }\n\n    private goBack() {\n        if (this.page > 1) {\n            this.page -= 1;\n        }\n    }\n\n    private goForward() {\n        if (this.page < this.totalPages) {\n            this.page += 1;\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductLocationsTable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductLocationsTable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProductLocationsTable.vue?vue&type=template&id=27ba0de9&scoped=true&\"\nimport script from \"./ProductLocationsTable.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProductLocationsTable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27ba0de9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('MapDisplayWithLegend',{attrs:{\"map\":_vm.map,\"aisles\":_vm.appData.aisles,\"editable\":false,\"showTooltips\":true,\"size\":_vm.size}}),_c('div',{staticClass:\"form-inline justify-content-end\"},[_c('label',{staticClass:\"mr-1\",attrs:{\"for\":\"zoom-map\"}},[_vm._v(_vm._s(_vm.getText(\"Zoom:\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.size),expression:\"size\"}],staticClass:\"form-control\",attrs:{\"id\":\"zoom-map\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.size=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"small\"}},[_vm._v(\"S\")]),_c('option',{attrs:{\"value\":\"regular\"}},[_vm._v(\"M\")]),_c('option',{attrs:{\"value\":\"large\"}},[_vm._v(\"L\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\";\nimport {AppDataMSD, StoreMap} from \"@/components/store-map/storemap-defs\";\n\n@Component\nexport default class MapStaticDisplayApp extends Vue {\n    @Prop() private appData!: AppDataMSD;\n    private map: StoreMap = new StoreMap(null, 0, 0, []);\n    private size: string = \"regular\";\n\n    mounted() {\n        this.map = StoreMap.fromDTOs(this.appData.map, this.appData.tiles);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapStaticDisplayApp.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapStaticDisplayApp.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MapStaticDisplayApp.vue?vue&type=template&id=b6512c70&scoped=true&\"\nimport script from \"./MapStaticDisplayApp.vue?vue&type=script&lang=ts&\"\nexport * from \"./MapStaticDisplayApp.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6512c70\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('MapDisplayWithLegend',{ref:\"display\",staticClass:\"mb-2\",attrs:{\"map\":_vm.map,\"aisles\":_vm.aisles,\"size\":_vm.size,\"editable\":true,\"showTooltips\":true}}),_c('MessageDisplay',{ref:\"messages\"}),_c('div',{staticClass:\"card-box card-box-bottom\"},[_c('div',{staticClass:\"form-inline justify-content-center\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{attrs:{\"for\":\"valid-at-field\"}},[_vm._v(_vm._s(_vm.getText(\"Changes in effect after:\" )))]),_c('div',{staticClass:\"input-group date\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.validAt),expression:\"validAt\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"date_started\",\"placeholder\":_vm.getText('Valid from'),\"title\":\"\",\"id\":\"valid-at-field\",\"dp_config\":\"{\\\"id\\\": \\\"dp_1\\\", \\\"picker_type\\\":\\n\\\"DATETIME\\\", \\\"linked_to\\\": null, \\\"options\\\": {\\\"showClose\\\": true,\\n\\\"showClear\\\": false, \\\"showTodayButton\\\": true, \\\"format\\\": \\\"YYYY-MM-DD HH:mm:ss\\\"}}\"},domProps:{\"value\":(_vm.validAt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.validAt=$event.target.value}}}),_vm._m(0)])]),_c('div',{staticClass:\"d-flex flex-column ml-2\"},[_c('label',{attrs:{\"for\":\"zoom-map\"}},[_vm._v(_vm._s(_vm.getText(\"Zoom:\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.size),expression:\"size\"}],staticClass:\"form-control\",attrs:{\"id\":\"zoom-map\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.size=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"small\"}},[_vm._v(\"S\")]),_c('option',{attrs:{\"value\":\"regular\"}},[_vm._v(\"M\")]),_c('option',{attrs:{\"value\":\"large\"}},[_vm._v(\"L\")])])]),_c('div',{staticClass:\"d-flex flex-column ml-2\"},[_c('label',{attrs:{\"for\":\"resizew\"}},[_vm._v(_vm._s(_vm.getText(\"Resize the map:\")))]),_c('div',{staticClass:\"d-flex flex-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.resizeW),expression:\"resizeW\",modifiers:{\"number\":true}}],staticClass:\"form-control\",staticStyle:{\"width\":\"5rem\"},attrs:{\"type\":\"number\",\"id\":\"resizew\"},domProps:{\"value\":(_vm.resizeW)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.resizeW=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"resizeh\"}},[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.resizeH),expression:\"resizeH\",modifiers:{\"number\":true}}],staticClass:\"form-control\",staticStyle:{\"width\":\"5rem\"},attrs:{\"type\":\"number\",\"id\":\"resizeh\"},domProps:{\"value\":(_vm.resizeH)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.resizeH=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{staticClass:\"btn btn-outline-warning ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.resizeMap}},[_vm._v(_vm._s(_vm.getText(\"Resize\")))])])]),_c('div',{staticClass:\"vertical-divider ml-3 pl-3 d-flex align-items-center\"},[_c('button',{staticClass:\"btn btn-lg btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.saveChanges()}}},[_c('IconBox',{attrs:{\"icon\":\"check\",\"size\":\"16\",\"text\":_vm.getText('Save')}})],1)])])]),(_vm.showLoading > 0)?_c('div',{staticClass:\"alert alert-secondary mt-1\"},[_c('IconBox',{attrs:{\"size\":\"16\",\"icon\":\"hourglass-split\",\"text\":_vm.getText('Loading')}})],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-addon input-group-append\",attrs:{\"data-target\":\"#datetimepicker1\",\"data-toggle\":\"datetimepickerv\"}},[_c('div',{staticClass:\"input-group-text\"},[_c('i',{staticClass:\"glyphicon glyphicon-calendar\"})])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n    Component,\n    Prop,\n    Vue,\n    Watch,\n} from \"vue-property-decorator\";\nimport {\n    AppDataSME,\n    MapTile,\n    StoreMap,\n    TileType,\n    MapTileRow,\n    saveMap, MapSaveResponse,\n} from \"@/components/store-map/storemap-defs\";\nimport {AisleStructureEntry} from \"@/defs/map-locations-defs\";\nimport MapDisplayWithLegend from \"@/components/store-map/MapDisplayWithLegend.vue\";\nimport dayjs from \"dayjs\";\nimport {DATE_FORMAT} from \"@/defs/constants\";\nimport MessageDisplay from \"@/components/common/MessageDisplay.vue\";\nimport {tileToMapTileDTOWithColor} from \"@/components/store-map/tile-legend-coloring\";\n\n@Component\nexport default class MapEditor extends Vue {\n    @Prop() private appData!: AppDataSME;\n    private aisles: AisleStructureEntry[] = [];\n    private size: string = \"regular\";\n    private validAt: string = \"\";\n    private map: StoreMap = new StoreMap(null, 0, 0, []);\n    private resizeW: number = 0;\n    private resizeH: number = 0;\n    private showLoading: number = 0;\n\n    mounted() {\n        this.aisles = this.appData.aisles;\n        if (this.appData.map === null) {\n            const tiles: MapTile[] = [];\n            for (let x = 0; x < this.appData.defaultSize; x += 1) {\n                for (let y = 0; y < this.appData.defaultSize; y += 1) {\n                    tiles.push(new MapTile(null, x, y, TileType.SPACE, null));\n                }\n            }\n            this.map = new StoreMap(null, this.appData.defaultSize, this.appData.defaultSize, tiles);\n        } else {\n            this.map = StoreMap.fromDTOs(this.appData.map, this.appData.tiles);\n        }\n\n        this.resizeW = this.map.width;\n        this.resizeH = this.map.height;\n        this.validAt = dayjs().format(DATE_FORMAT);\n        // Bridge between Vue and bootstrap-datepicker\n        // eslint-disable-next-line\n        $(\"#valid-at-field\").on(\"dp.change\", (e: any) => {\n            this.validAt = e.date.format(DATE_FORMAT);\n        });\n    }\n\n    get display(): MapDisplayWithLegend {\n        // @ts-ignore This is always a reference to MapDisplayWithLegend\n        return this.$refs.display;\n    }\n\n    get messages(): MessageDisplay {\n        // @ts-ignore This is always a reference to MessageDisplay\n        return this.$refs.messages;\n    }\n\n    private async saveChanges() {\n        this.showLoading += 1;\n        this.messages.clearMessages();\n        const mapDTO = this.map.toMapDTO();\n        const tilesDTOs = this.map.tiles.map((mt) => tileToMapTileDTOWithColor(mt, this.display.colors));\n        let response: MapSaveResponse;\n        try {\n            response = await saveMap(this.appData.saveEndpoint, mapDTO, tilesDTOs, this.validAt);\n        } catch (e) {\n            this.messages.setError(gettext(\"Unable to save the map!\"));\n            return;\n        } finally {\n            this.showLoading -= 1;\n        }\n        if (response.success) {\n            this.messages.setSuccessFlash(response.message);\n        } else if (response.warning) {\n            this.messages.setWarningFlash(response.message);\n        } else {\n            this.messages.setError(response.message);\n        }\n        if (response.map !== null) {\n            this.map = StoreMap.fromDTOs(response.map, response.tiles);\n        }\n    }\n\n    @Watch(\"aisles\")\n    private updateColorsInLegend() {\n        this.display.updateColors(this.aisles);\n    }\n\n    private updateRows() {\n        // @ts-ignore This is always a reference to MapDisplayWithLegend\n        this.display.updateRows();\n    }\n\n    private getRows(): MapTileRow[] {\n        // @ts-ignore This is always a reference to MapDisplayWithLegend\n        return this.display.getRows();\n    }\n\n    private resizeMap() {\n        const rows: MapTileRow[] = this.getRows();\n        this.map.tiles = [];\n        for (let x = 0; x < this.resizeW; x += 1) {\n            for (let y = 0; y < this.resizeH; y += 1) {\n                let newTile: MapTile;\n                let oldTile: MapTile | undefined;\n                const row: MapTileRow | undefined = rows[y];\n                if (row !== undefined) {\n                    oldTile = row.tiles[x];\n                }\n                if (oldTile === undefined) {\n                    newTile = new MapTile(null, x, y, TileType.SPACE, null);\n                } else {\n                    newTile = new MapTile(oldTile.id, x, y, oldTile.tileType, oldTile.subaisle);\n                }\n                this.map.tiles.push(newTile);\n            }\n        }\n        this.map.height = this.resizeH;\n        this.map.width = this.resizeW;\n        this.updateRows();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MapEditor.vue?vue&type=template&id=1d16b8ac&scoped=true&\"\nimport script from \"./MapEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MapEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d16b8ac\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\n\nimport IconBox from \"@/components/common/IconBox.vue\";\nimport MessageDisplay from \"@/components/common/MessageDisplay.vue\";\nimport ModalLauncher from \"@/components/common/ModalLauncher.vue\";\nimport ModalBox from \"@/components/common/ModalBox.vue\";\nimport Pagination from \"@/components/common/Pagination.vue\";\nimport TabItemDelete from \"@/components/common/TabItemDelete.vue\";\nimport ValidityText from \"@/components/common/ValidityText.vue\";\n\nimport ExtraMetadataEditorInput from \"@/components/extra-metadata-editor/ExtraMetadataEditorInput.vue\";\nimport ProductLocationsTableRow from \"@/components/product-locations-table/ProductLocationsTableRow.vue\";\nimport MapDisplay from \"@/components/store-map/MapDisplay.vue\";\nimport MapLegend from \"@/components/store-map/MapLegend.vue\";\nimport MapDisplayWithLegend from \"@/components/store-map/MapDisplayWithLegend.vue\";\n\nimport LocalPermissionTable from \"@/components/local-permission-table/LocalPermissionTable.vue\";\nimport ModalItemSelector from \"@/components/modal-item-selector/ModalItemSelector.vue\";\nimport ExtraMetadataEditor from \"@/components/extra-metadata-editor/ExtraMetadataEditor.vue\";\nimport ProductLocationsTable from \"@/components/product-locations-table/ProductLocationsTable.vue\";\nimport MapStaticDisplayApp from \"@/components/store-map/MapStaticDisplayApp.vue\";\nimport MapEditor from \"@/components/store-map/MapEditor.vue\";\n\n// Common\nVue.component(\"IconBox\", IconBox);\nVue.component(\"MessageDisplay\", MessageDisplay);\nVue.component(\"ModalLauncher\", ModalLauncher);\nVue.component(\"ModalBox\", ModalBox);\nVue.component(\"Pagination\", Pagination);\nVue.component(\"TabItemDelete\", TabItemDelete);\nVue.component(\"ValidityText\", ValidityText);\n\n// Subcomponents\nVue.component(\"ExtraMetadataEditorInput\", ExtraMetadataEditorInput);\nVue.component(\"ProductLocationsTableRow\", ProductLocationsTableRow);\nVue.component(\"MapDisplay\", MapDisplay);\nVue.component(\"MapLegend\", MapLegend);\nVue.component(\"MapDisplayWithLegend\", MapDisplayWithLegend);\n\n// Apps\nVue.component(\"LocalPermissionTable\", LocalPermissionTable);\nVue.component(\"ModalItemSelector\", ModalItemSelector);\nVue.component(\"ExtraMetadataEditor\", ExtraMetadataEditor);\nVue.component(\"ProductLocationsTable\", ProductLocationsTable);\nVue.component(\"MapStaticDisplayApp\", MapStaticDisplayApp);\nVue.component(\"MapEditor\", MapEditor);\n\nVue.config.productionTip = false;\n\nVue.mixin({\n    methods: {\n        getText(text: string): string {\n            return gettext(text);\n        },\n    },\n});\n\nVUE_APPS.forEach((appData) => {\n    // eslint-disable-next-line\n    let appClass: any;\n    if (appData.THIS_APP === \"users-edit-local-permissions\") {\n        appClass = LocalPermissionTable;\n    } else if (appData.THIS_APP === \"modal-item-selector\") {\n        appClass = ModalItemSelector;\n    } else if (appData.THIS_APP === \"extra-metadata-editor\") {\n        appClass = ExtraMetadataEditor;\n    } else if (appData.THIS_APP === \"product-locations-table\") {\n        appClass = ProductLocationsTable;\n    } else if (appData.THIS_APP === \"map-static-display\") {\n        appClass = MapStaticDisplayApp;\n    } else if (appData.THIS_APP === \"map-editor\") {\n        appClass = MapEditor;\n    }\n\n\n    // eslint-disable-next-line\n    new Vue({\n        el: appData.APP_TAG,\n        data: appData,\n        render: (h) => h(appClass, {props: {appData}}),\n    });\n});\n"],"sourceRoot":""}